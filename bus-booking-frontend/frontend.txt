==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\App.css ====
.App {
  text-align: center;
}

.App-logo {
  height: 40vmin;
  pointer-events: none;
}

@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\App.jsx ====
import { Routes, Route, BrowserRouter } from 'react-router-dom';
import Layout from './Layout';
import Login from "./pages/login/Login";
import Signup from './pages/signup/Signup';
import BusLayout from './components/buslayout/BusLayout';
import Home from './pages/home/Home';
import ForgotPassword from './pages/forgotpass/ForgotPassword';
import ChangePassword from './pages/changepass/ChangePassword';
import ResetPassword from './pages/resetpass/ResetPassword';
import MyBookings from './pages/mybookings/MyBookings';
import Ticket from './components/ticket/Ticket';
import Navbar from './components/header/Navbar';
import Details from './components/buslayout/Details';
function App() {
  
  return (
    
    <BrowserRouter>
    <div className="w-full min-h-screen bg-neutral-50 dark:bg-neutral-950 text-neutral-800 dark:text-neutral-300 flex flex-col overflow-hidden">
    <Navbar />
      <Routes>
        
      <Route path='/' element={<Layout/>}> 
        <Route index element={<Home/>}></Route>
        <Route path='/login' element={<Login />} />
        <Route path='/signup' element={<Signup />} />
        <Route path='/buslayout/:id' element={<BusLayout />} />
        <Route path='/forgot-password' element={<ForgotPassword/>}/>
        <Route path='/change-password' element={<ChangePassword/>}/>
        <Route path='/reset-password' element={<ResetPassword/>}/>
        <Route  path="/bookings/:id" element={<MyBookings/>}/>
        <Route path='/details/:bookingId' element={<Details />} />
        {/* <Route path='/bookings/getbooking/:bookingId' element={<Ticket/>}/> */}
        
        {/* <Route path='/ticket/print/:bookingId' element={<Ticket />} /> */}
        {/* <Route path='/seatselection' element={<BusSeats />} /> */}
        {/* Add more routes here */}
        </Route>
       
        <Route path='*' element={<NoMatch />} />
      </Routes>
      </div>
    </BrowserRouter>
  
  );
}

function NoMatch() {
  return <h1>404 - Not Found</h1>;
}

export default App;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\index.css ====
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Inter", sans-serif;
}

::-webkit-scrollbar {
  width: 8px;
  background: #f9fafb;
}

::-webkit-scrollbar-track {
  background: #f3f4f6;
  border-radius: 8px;
}

::-webkit-scrollbar-thumb {
  background: #cacaca;
  border-radius: 8px;
  transition: all 0.5s ease-out;
}

::-webkit-scrollbar-thumb:hover {
  background: #a4a4a4;
  border-radius: 8px;
}

.hero {
  background: linear-gradient(to right, rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.5)),
    url(../src/assets/images/bg1.jpg);
  -webkit-background-size: cover;
  background-position: center bottom;
  background-size: cover;
  background-repeat: no-repeat;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
}


body {
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
      monospace;
  }
  


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\Layout.jsx ====
import Header from "./components/header/Header";
import { Outlet } from 'react-router-dom';
// Если у вас есть Footer, раскомментируйте
// import Footer from './components/footer/Footer';

function Layout() {
  return (
    <>
      <Header/>
      <Outlet/>
      {/* <Footer/> */}
    </>
  );
}

export default Layout;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\main.jsx ====
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import './index.css';


ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
);



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\PersonCard.jsx ====
import PropTypes from 'prop-types';

function PersonCard({ name, role, imageSrc, linkedinLink, instagramLink }) {
  return (
    <div className="card">
      <img src={imageSrc} alt={name} />
      <h2>{name}</h2>
      <p>{role}</p>
      <div className='row justify-content-center'>  {/* used some css */}
        <a href={linkedinLink} target="_blank" rel="noopener noreferrer">LinkedIn</a>
        <a href={instagramLink} target="_blank" rel="noopener noreferrer">Instagram</a>
      </div>
    </div>
  );
}

PersonCard.propTypes = {
  name: PropTypes.string.isRequired,
  role: PropTypes.string.isRequired,
  imageSrc: PropTypes.string.isRequired,
  linkedinLink: PropTypes.string.isRequired,
  instagramLink: PropTypes.string.isRequired,
};

export default PersonCard;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\busCard\BusDetailsCard.css ====

.bus-details-container {
    border: 2px solid #3bb19b;
    border-radius: 8px;
    margin: 16px 0;
    padding: 0 20px;
    display: flex;
  }
  
  /* .bus-details-container > div {
    margin-bottom: 8px;
  } */

  .left{
    width: 75%;
  }
  .right{
    width: 25%;
    margin: auto 0;
  }

  .bus-details-container p {
    margin: 4px 0;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }
  
  .bus-details-container p b {
    font-weight: bold;
  }
  
  .book-now-button {
    background-color: #3bb19b;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
  }
  
  .book-now-button:hover {
    background-color: #0056b3;
  }
  
  .part {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  /* Set inner elements of .part to display inline-block */
  .part > * {
    flex: 1;
  }

  .fare{
    padding: 0 16px;
  }
  
  /* .bus-details-container .right {
    justify-content: center;
  } */


  
  img {
    height: auto;
    width: 100%;
  }


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\busCard\BusDetailsCard.jsx ====
import  { useEffect } from 'react';
import PropTypes from 'prop-types';
import './BusDetailsCard.css';
import logo from "../../assets/images/buslogo.jpg"

function formatDateTime(dateTimeString) {
  const date = new Date(dateTimeString);
  const day = date.getDate().toString().padStart(2, '0');
  const month = (date.getMonth() + 1).toString().padStart(2, '0');
  const hours = date.getHours().toString().padStart(2, '0');
  const minutes = date.getMinutes().toString().padStart(2, '0');
  return `${day}/${month} ${hours}:${minutes}`;
}

function BusDetailsCard({ busNo, from, to, startTime, endTime, duration, fare, handleBookNow }) {
  useEffect(() => {
    console.log(from, to, ".............");
  }, [from, to]); // Adding `to` to the dependency array to ensure re-rendering when `to` changes

  return (
    <>
    <div className="bus-details-container">
      <div className='left'>

      <div className='part upper-row'>
      <p><b>Қайдан:</b> {from}</p>
        <p><b>Қайда:</b> {to}</p>
      
      <div><p className='fare'><b>Тариф:</b> {fare}</p></div></div>
      <div className='part middle-row'>
      <p><b>At:</b> {formatDateTime(startTime)}</p>
        <p><b>At:</b> {formatDateTime(endTime)}</p>
        <p></p>
      </div>
      <div className='part lower-row'>
      <div><p><b>BusNo:</b> {busNo}</p></div>
        <p><b>Ұзақтығы:</b> {duration}</p>
        <p><button className="book-now-button" onClick={handleBookNow} >Брондау</button></p>
      </div>
      </div>
      <div className='right'>
        <img src={logo} alt="Logo here" />
      </div>
    </div>
    </>
  );
}

BusDetailsCard.propTypes = {
  busNo: PropTypes.string.isRequired,
  from: PropTypes.string.isRequired,
  to: PropTypes.string.isRequired,
  startTime: PropTypes.string.isRequired,
  endTime: PropTypes.string.isRequired,
  duration: PropTypes.string.isRequired,
  fare: PropTypes.string.isRequired,
  handleBookNow: PropTypes.func.isRequired
};

export default BusDetailsCard;


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\buslayout\BusLayout.css ====
/* Bus Seat Selection Page */
.bus-seat-selection-page {
  display: flex;
  margin: 100px 0;
}

/* Left Section */
.left-section {
  width: 50%;
  display: flex;
  flex-direction: column;
}

.upper-left {
  
  border: 3px solid #3bb19b;
  padding: 20px;
  background-color: #f5f5f5;
  border-radius: 10px;
  margin: 20px;
}


.upper-left p {
  margin: 5px 0;
}
.line{
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.line > *{
  flex: 1;
  align-items: start;
}

.lower-left {
  
  border: 3px solid #3bb19b;
  padding: 20px;
  background-color: #f5f5f5;
  border-radius: 10px;
  margin: 20px;
  min-height: 300px;
}

button[type='submit']:disabled {
  background-color: #ccc; /* Change the background color to a shade of gray */
  cursor: not-allowed; /* Change cursor to not-allowed when disabled */
}

/* Right Section */
.right-section {
  width: 700px; /* Set a fixed width for the right section */
  flex-shrink: 0; /* Prevent the right section from shrinking */
  overflow: auto;
}

.main-card {
  width:64%;
  padding: 10px;
  background-color: #f5f5f5;
  border-radius: 10px;
  margin: 20px 18%;
  border: 3px solid #3bb19b;
}

/* Seat Layout */
.seat-layout {
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* Two equal columns */
  gap: 50px; /* Add space between the grids */
  padding: 10px;
}

/* Additional Style for Individual Grids */
.seat-layout > div {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); /* Adjust seat width */
  gap: 8px;
}


.bus-seat {
  width: 60px;
  height: 60px;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20px;
  cursor: pointer;
  background-color: #ccc; /* Default color for available seats */
  color: #fff;
}

.bus-seat:hover {
  background-color: #4caf50;
}

.unavailable {
  background-color: #ff5a5a; /* Red color for unavailable seats */
}

.selected {
  background-color: #4caf50; /* Green color for selected seats */
}

/* Font Awesome Seat Icon */
.seat-icon {
  margin-right: 5px;
}

/* Form Styles */
.passenger-form {
  margin-bottom: 20px;
}

.passenger-form .line {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
}

.passenger-form input[type="text"],
.passenger-form input[type="number"],
.passenger-form select {
  width: 100%;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

.passenger-form select {
  cursor: pointer;
}

/* Button Styles */
button[type='submit'] {
  background-color: #3bb19b;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button[type='submit']:hover {
  background-color: #2d866e;
}

/* Booking Success Message Styles */
.booking-success-message {
  background-color: #4caf50;
  color: white;
  padding: 10px 20px;
  border-radius: 5px;
  margin-top: 20px;
  text-align: center;
}

/* Modal.css */

.modal-overlay {
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background-color: #fff; /* White background */
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
  padding: 20px;
  max-width: 400px;
  width: 100%;
}

.modal-content p {
  margin-bottom: 10px;
}

.modal-content button {
  background-color: #3bb19b; /* Green color scheme */
  color: #fff; /* White text color */
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  border-radius: 5px;
  cursor: pointer;
}

.modal-content button:hover {
  background-color: #2e856e; /* Darker shade of green on hover */
}

/* Modal.css */

.modal-overlay {
  background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background-color: #fff; /* White background */
  border-radius: 8px; /* Adjust the border radius as needed */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
  padding: 20px;
  max-width: 400px;
  width: 100%;
  max-height: 80vh; /* Limit the maximum height of the modal content */
  overflow-y: auto; /* Enable vertical scroll if content exceeds max height */
}

.modal-content p {
  margin-bottom: 10px;
}

.modal-content button {
  background-color: #3bb19b; /* Green color scheme */
  color: #fff; /* White text color */
  border: none;
  padding: 10px 20px;
  font-size: 16px;
  border-radius: 5px;
  cursor: pointer;
}

.modal-content button:hover {
  background-color: #2e856e; /* Darker shade of green on hover */
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\buslayout\BusLayout.jsx ====
import React, { useState, useEffect } from "react";
import { MdOutlineChair } from "react-icons/md";
import { GiSteeringWheel } from "react-icons/gi";
import { RiMoneyDollarCircleLine } from "react-icons/ri";

import { toast, ToastContainer } from "react-toastify";
import { useParams } from "react-router-dom";
import { axiosInst } from "../../service/axiosInstance";
import useRazorpay from "react-razorpay";
import Modal from "react-responsive-modal";
import ConfirmationBox from "../ConfirmationBox/ConfirmationBox";

import jsPDF from "jspdf";
import QRCode from "qrcode";
import "react-toastify/dist/ReactToastify.css";
import "react-responsive-modal/styles.css";
import "jspdf-autotable";

import Bus from "../../assets/images/bus9.png"; // Пример пути к картинке автобуса

// Вспомогательные функции форматирования
function formatDateTime(dateTimeString) {
  const date = new Date(dateTimeString);
  const day = date.getDate().toString().padStart(2, "0");
  const month = (date.getMonth() + 1).toString().padStart(2, "0");
  const hours = date.getHours().toString().padStart(2, "0");
  const minutes = date.getMinutes().toString().padStart(2, "0");
  return `${day}/${month} ${hours}:${minutes}`;
}

function formatDate(dateString) {
  const dateObj = new Date(dateString);
  const year = dateObj.getFullYear();
  const month = String(dateObj.getMonth() + 1).padStart(2, "0");
  const day = String(dateObj.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
}

export default function BusLayout() {
  const [Razorpay] = useRazorpay();
  const { id } = useParams();

  // Общее состояние
  const [seats, setSeats] = useState([]); // Список занятых мест (с сервера)
  const [travelInfo, setTravelInfo] = useState({});
  const [selectedSeats, setSelectedSeats] = useState([]); // Какие места юзер выбрал
  const [passengerDetails, setPassengerDetails] = useState([]);
  const [isPassengerDetailsFilled, setIsPassengerDetailsFilled] = useState(false);

  // Прочие состояния
  const [bookingSuccess, setBookingSuccess] = useState(false);
  const [verificationResult, setVerificationResult] = useState("");
  const [showConfirmation, setShowConfirmation] = useState(false);
  const [status, setStatus] = useState(false); // Флаг, чтобы заново подгружать места
  const [confirmObject, setConfirmObject] = useState({
    busNo: "",
    noOfTickets: 0,
    cost: 0,
    from: "",
    to: "",
  });

  // Для простоты
  let totalSeats = 41; // Ваш расклад на 41 место
  let array = [];
  let payload = {};
  let ticketId;

  // ======= ФУНКЦИЯ СКАЧИВАНИЯ PDF =======
  const downloadTicket = async (ticketid) => {
      try {
        const response = await axiosInst.get(`/bookings/getbooking/${ticketid}`, {
            headers: {
                Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
            },
        });
  
        const ticketDetails = response.data;
  
        const doc = new jsPDF();
        const amiriFont = "AAEAAAASAQAABAAgRFNJRwAAAAEAAYzEAAAACEdERUYtAAAAA";
  
        // Set font styles
        doc.addFileToVFS("Amiri-Regular.ttf", amiriFont);
        doc.addFont("Amiri-Regular.ttf", "Amiri", "normal");
        doc.setFont("Amiri");
  
  
        // Add background color
        doc.setFillColor('#ffffff');
        doc.rect(0, 0, doc.internal.pageSize.width, doc.internal.pageSize.height, 'F');
        doc.setFont("Amiri");
        doc.setFontSize(8);
        doc.text("This PDF is generated by Dimash Bus System 2024", 10, 10);
  
        const logoDataUrl =
        "data:image/png;base64,iVBORw0KGgoASUVORK5CYII=";
        // Add watermark
    
        // Add header with download date and site name
        const downloadDate = new Date().toLocaleDateString();
const siteName = "https:localhost:3001/"; // Сайтыңыздың атауын жаңартыңыз
doc.setFontSize(8);
doc.text(
  `Сайт атауы: ${siteName}  |  Жүктеу күні: ${downloadDate}`,
  100,
  10
);

// Логотип
doc.addImage(logoDataUrl, "PNG", 10, 15, 40, 40);

// Тақырып
doc.setFont("Amiri");
doc.setFontSize(24);
doc.setTextColor('#333');
doc.text("Dimash Bus", doc.internal.pageSize.width / 2, 30, 'center');

// Шекара
doc.setDrawColor('#333'); // Шекара түсі
doc.setLineWidth(0.5); // Шекара қалыңдығы
doc.rect(5, 15, doc.internal.pageSize.width - 10, doc.internal.pageSize.height-25); // Шекараның ректанглі (шеті кішірейтілген)

// QR код
const qrText = `Брондау ID: ${ticketid}\nАвтобус №: ${ticketDetails.busNo}\nҚайдан: ${ticketDetails.from} ${formatDateTime(ticketDetails.startTime)}\nБрондау күні: ${formatDate(ticketDetails.bookingDateTime)}`;
const canvas = document.createElement('canvas');
await QRCode.toCanvas(canvas, qrText);
const imageData = canvas.toDataURL('image/jpeg', 1.0);
doc.addImage(imageData, 'JPEG', 150, 30, 50, 50);

// Билет туралы мәліметтер
doc.setFontSize(16);
doc.setTextColor('#333');
doc.text(`Билет туралы мәлімет - Брондау ID ${ticketid}`, 20, 70);
doc.setFontSize(12);
doc.text(`Автобус №: ${ticketDetails.busNo}`, 20, 90);
doc.text(`Қайдан: ${ticketDetails.from} - ${formatDateTime(ticketDetails.startTime)}`, 20, 105);
doc.text(`Қайда: ${ticketDetails.to} - ${formatDateTime(ticketDetails.endTime)}`, 20, 120);
doc.text(`Брондау күні: ${formatDate(ticketDetails.bookingDateTime)}`, 20, 135);
const totalPassengers = ticketDetails.seatPassengerList.length;
doc.text(`Жолаушылар саны: ${totalPassengers}`, 20, 150);

// Жолаушылар
const startY = 170;
const tableHeight = 20 + totalPassengers * 10;
const endY = startY + tableHeight;
const overflow = endY > doc.internal.pageSize.height;

const passengerTable = [];
ticketDetails.seatPassengerList.forEach((passenger, index) => {
    passengerTable.push([
        index + 1,
        passenger.seatNo,
        `${passenger.passenger.firstName} ${passenger.passenger.lastName}`,
        passenger.passenger.gender,
        passenger.passenger.age
    ]);
});

if (!overflow) {
    autoTable(doc, {
        startY,
        head: [['#', 'Орын', 'Аты', 'Жыныс', 'Жасы']],
        body: passengerTable,
        margin: { top: 10 },
        styles: { font: "Amiri", fontStyle: 'normal', fontSize: 10 }
    });
} else {
    // Егер кесте беттің шегінен асса, жаңа бет қосу
    doc.addPage();
    autoTable(doc, {
        startY: 50,
        head: [['#', 'Орын', 'Аты', 'Жыныс', 'Жасы']],
        body: passengerTable,
        margin: { top: 10 },
        styles: { font: 'Amiri', fontStyle: 'normal', fontSize: 10 }
    });
}

// Шарттар мен ережелер
let termsY = overflow ? 50 : endY + 20;
doc.setFontSize(10);
doc.setTextColor('#666');
const termsAndConditions = `Шарттар мен ережелер:
1. Жөнелту уақытынан 30 минут бұрын келуіңіз сұралады.
2. Брондаудан кейін қайтару немесе бас тарту мүмкін емес.
3. Сапар барысында жолаушылар өз мүліктеріне жауапты.`;
doc.text(termsAndConditions, 20, termsY);

// PDF сақтау
doc.save(`Dimash_Bus_${ticketid}_.pdf`);
} catch (error) {
    console.error("Билетті жүктеу кезінде қате:", error);
    toast.error("Қате орын алды! Қайтадан көріңіз.")
}

  };

  // ======= ОБНОВЛЯЕМ CONFIRM OBJECT =======
  useEffect(() => {
    if (travelInfo && selectedSeats.length > 0) {
      setConfirmObject({
        busNo: travelInfo.busNo,
        noOfTickets: selectedSeats.length,
        cost: travelInfo.fare * selectedSeats.length,
        from: travelInfo.from,
        to: travelInfo.to,
      });
    }
  }, [travelInfo, selectedSeats]);

  // =========== LOCK SEATS ===========
  const bookSeatConcurrency = async () => {
    try {
      await axiosInst.post(
        `/seat/lock`,
        {
          userId: localStorage.getItem("id"),
          busId: id,
          seatNos: selectedSeats,
        },
        {
          headers: {
            Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
          },
        }
      );
    } catch (error) {
      console.log(error);
    }
  };

  // =========== CHECK SEATS ===========
  const confirmCheck = async () => {
    try {
      const res = await axiosInst.get(`/seat/${id}`, {
        headers: {
          Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
        },
      });
      return selectedSeats.some((seat) => res.data.includes(seat));
    } catch (error) {
      console.log(error);
    }
  };

  // ========== UNLOCK SEATS ==========
  const delSecondDb = async () => {
    try {
      await axiosInst.post("/seat/unlock", {
        busId: id,
        seatNos: selectedSeats,
      });
    } catch (error) {
      console.log(error);
    }
  };

  // ========== LOAD RAZORPAY SCRIPT ==========
  const loadScript = (src) => {
    return new Promise((resolve) => {
      const script = document.createElement("script");
      script.src = src;
      script.onload = () => resolve(true);
      script.onerror = () => resolve(false);
      document.body.appendChild(script);
    });
  };

  // ========== HANDLE CONFIRM PAYMENT ==========
  const handleConfirm = async () => {
    // Проверяем повторно
    if (await confirmCheck()) {
      toast.error("Seats Currently Unavailable... Please Try Again!");
      setStatus(true);
      return;
    }

    // Лочим
    bookSeatConcurrency();

    const scriptLoaded = await loadScript("https://checkout.razorpay.com/v1/checkout.js");
    if (!scriptLoaded) {
      console.log("Failed to load Razorpay script.");
      return;
    }

    try {
      const response = await axiosInst.post("/payment/razorpay", {
        amount: travelInfo.fare * passengerDetails.length,
      });
      const data = response.data;

      const options = {
        key: "rzp_test_bTDnw950m7Mzb4",
        currency: KZT,
        amount: data.amount,
        name: "Dimash Bus",
        description: "Dimash Bus Booking",
        order_id: data.id,
        theme: { color: "#3bb19b" },
        modal: {
          ondismiss: () => {
            delSecondDb();
            clearTimeout(timeoutID);
            console.log("Checkout form closed");
          },
        },
        handler: async function (response) {
          payload = {
            paymentId: response.razorpay_payment_id,
            razorpayOrderId: response.razorpay_order_id,
            razorpaySignature: response.razorpay_signature,
            busId: id,
            userId: localStorage.getItem("id"),
            fare: travelInfo.fare * passengerDetails.length,
            seatPassengerList: passengerDetails.map((psg) => ({
              seatNo: psg.seatNumber,
              passenger: {
                firstName: psg.firstName,
                lastName: psg.lastName,
                gender: psg.gender,
                age: psg.age,
              },
            })),
          };

          try {
            const response1 = await axiosInst.post("/payment/verify-payment", payload);
            const data1 = response1.data;
            if (data1.success) {
              setVerificationResult("Payment is successful");
              toast.success("Payment Success");
              setBookingSuccess(true);
              ticketId = data1.id;
              await downloadTicket(ticketId);
              window.location = "/";
            } else {
              setVerificationResult("Payment is not successful");
              toast.error("Payment Failed");
            }
          } catch (error) {
            console.error("Payment Verification Error:", error);
            setVerificationResult("Payment verification failed");
          }
        },
      };

      var rzp1 = new Razorpay(options);
      rzp1.open();

      const timeoutID = setTimeout(() => {
        delSecondDb();
        window.location.reload();
      }, 2 * 60 * 1000);
    } catch (error) {
      console.log("Failed to load Razorpay script.", error);
    }
  };

  // ========== CLICK ON SEAT ==========
  const handleSeatClick = (seatNumber) => {
    if (selectedSeats.includes(seatNumber)) {
      // Убираем из выбранных
      setSelectedSeats((prev) => prev.filter((seat) => seat !== seatNumber));
      setPassengerDetails((prev) => prev.filter((p) => p.seatNumber !== seatNumber));
    } else {
      // Проверяем, занято ли оно
      if (!seats.includes(seatNumber)) {
        // Добавляем
        // (Лимит 10 мест из вашего кода)
        if (selectedSeats.length < 10) {
          setSelectedSeats((prev) => [...prev, seatNumber]);
          setPassengerDetails((prev) => [
            ...prev,
            { seatNumber, firstName: "", lastName: "", age: "", gender: "" },
          ]);
        } else {
          alert("You can only select a maximum of 10 seats.");
        }
      } else {
        toast.error("Seat already booked");
      }
    }
  };

  // ========== INPUT CHANGES ==========
  const handleInputChange = (event, seatNumber, fieldName) => {
    const { value } = event.target;
    setPassengerDetails((prevDetails) =>
      prevDetails.map((p) =>
        p.seatNumber === seatNumber ? { ...p, [fieldName]: value } : p
      )
    );
  };

  // ========== SUBMIT FORM ==========
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!isPassengerDetailsFilled) {
      toast.error("Жолаушы мәліметтерін енгізіңіз");
    } else {
      setShowConfirmation(true);
      console.log(confirmObject);
    }
  };

  // Формат даты
  const convertToValidDateTimeFormat = (dateTimeString) => {
    const date = new Date(dateTimeString);
    const day = date.getDate().toString().padStart(2, "0");
    const month = (date.getMonth() + 1).toString().padStart(2, "0");
    const year = date.getFullYear();
    const hours = date.getHours().toString().padStart(2, "0");
    const minutes = date.getMinutes().toString().padStart(2, "0");
    return `${day}/${month}/${year} ${hours}:${minutes}`;
  };

  // Подсчет времени
  const calculateTotalTime = (startTime, endTime) => {
    try {
      if (!startTime || !endTime) return "Invalid input";

      const start = new Date(startTime);
      const end = new Date(endTime);
      let diff = end - start;
      if (diff < 0) diff += 24 * 60 * 60 * 1000;

      const hours = Math.floor(diff / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      return `${hours} сағ. ${minutes} мин.`;
    } catch (error) {
      console.error("Error calculating total time:", error);
      return "Invalid input";
    }
  };

  // ========== РЕНДЕР САМОГО МЕСТА ==========
  const SeatIcon = ({ seatNumber }) => {
    // booked?
    const isBooked = seats.includes(seatNumber);
    // selected?
    const isSelected = selectedSeats.includes(seatNumber);

    let seatColorClass = "text-neutral-600"; // Available
    if (isBooked) {
      seatColorClass = "text-red-500"; // Booked
    } else if (isSelected) {
      seatColorClass = "text-violet-600"; // Selected
    }

    return (
      <MdOutlineChair
        className={`text-3xl -rotate-90 cursor-pointer ${seatColorClass}`}
        onClick={() => handleSeatClick(seatNumber)}
      />
    );
  };

  // ========== РЕНДЕР ВСЕХ 41 МЕСТ ==========
  const renderSeats = () => {
    let seatsArray = [];
    for (let i = 1; i <= totalSeats; i++) {
      seatsArray.push(
        <SeatIcon key={i} seatNumber={i} />
      );
    }
    return seatsArray;
  };

  // ЗАПРОСЫ
  const fetchBusById = async () => {
    try {
      const res = await axiosInst.get(`/seats/bus/${id}`, {
        headers: { Authorization: `Bearer ${localStorage.getItem("jwtToken")}` },
      });
      setTravelInfo(res.data);
      totalSeats = res.data.totalSeats || 41;
      array = [...array, ...res.data.bookedSeats];
      setSeats(array);
    } catch (error) {
      console.log(error);
    }
  };

  const getSeatsSecondDb = async () => {
    try {
      const res = await axiosInst.get(`/seat/${id}`, {
        headers: { Authorization: `Bearer ${localStorage.getItem("jwtToken")}` },
      });
      array = [...array, ...res.data];
      setSeats(array);
    } catch (error) {
      console.log(error);
    }
  };

  // Запускаем эффекты
  useEffect(() => {
    // Проверяем, все ли поля пассажиров заполнены
    setIsPassengerDetailsFilled(
      passengerDetails.every((p) => p.firstName && p.lastName && p.age && p.gender) &&
        passengerDetails.length > 0
    );
  }, [passengerDetails]);

  useEffect(() => {
    // При загрузке компонента / при изменении status
    array = [];
    getSeatsSecondDb();
    fetchBusById();
  }, [status]);

  // ====================== РЕНДЕР =======================
  return (
    <div className="w-full lg:px-28 md:px-16 sm:px-7 px-4 mt-[13ch] mb-[10ch] space-y-12">
      <ToastContainer />
      <div className="w-full grid grid-cols-2 gap-10 items-start">
        {/* Левая часть (инфа + форма) */}
        <div className="col-span-1 space-y-8">
          <img
            src={Bus}
            alt="bus"
            className="w-full aspect-[3/2] rounded-md object-contain"
          />

          <div className="border rounded-md p-4 bg-neutral-100 dark:bg-neutral-900/60">
            <h2 className="text-xl font-semibold mb-2">Саяхат туралы ақпарат</h2>
            <p className="text-base text-neutral-800 dark:text-neutral-300">
              <span className="font-medium">Автобус нөмірі:</span> {travelInfo.busNo}
            </p>
            <p className="flex items-center justify-between mt-2">
              <span>
                <span className="font-medium">Қайдан:</span> {travelInfo.from}
              </span>
              <span>
                <span className="font-medium">Қайда:</span> {travelInfo.to}
              </span>
            </p>
            <p className="flex items-center justify-between mt-2">
              <span>
                <span className="font-medium">Шығу уақыты:</span>{" "}
                {convertToValidDateTimeFormat(travelInfo.startTime)}
              </span>
              <span>
                <span className="font-medium">Аяқталу уақыты:</span>{" "}
                {convertToValidDateTimeFormat(travelInfo.endTime)}
              </span>
            </p>
            <p className="mt-2">
              <span className="font-medium">Жалпы уақыт:</span>{" "}
              {calculateTotalTime(travelInfo.startTime, travelInfo.endTime)}
            </p>
          </div>

          <div className="border rounded-md p-4 bg-neutral-100 dark:bg-neutral-900/60">
            <h2 className="text-xl font-semibold mb-3">Жолаушы мәліметтері</h2>
            <form onSubmit={handleSubmit} className="space-y-4">
              {passengerDetails.map((passenger) => (
                <div
                  key={passenger.seatNumber}
                  className="border-b border-neutral-300 pb-3 mb-3"
                >
                  <p className="font-medium mb-2">
                    Орын {passenger.seatNumber}
                  </p>
                  <div className="flex gap-3 mb-2">
                    <input
                      type="text"
                      value={passenger.firstName || ""}
                      onChange={(event) =>
                        handleInputChange(event, passenger.seatNumber, "firstName")
                      }
                      placeholder="First Name"
                      className="flex-1 px-3 py-2 rounded-md border border-neutral-300 focus:outline-none"
                    />
                    <input
                      type="text"
                      value={passenger.lastName || ""}
                      onChange={(event) =>
                        handleInputChange(event, passenger.seatNumber, "lastName")
                      }
                      placeholder="Last Name"
                      className="flex-1 px-3 py-2 rounded-md border border-neutral-300 focus:outline-none"
                    />
                  </div>
                  <div className="flex gap-3">
                    <input
                      type="number"
                      value={passenger.age || ""}
                      onChange={(event) =>
                        handleInputChange(event, passenger.seatNumber, "age")
                      }
                      placeholder="Age"
                      min="0"
                      className="flex-1 px-3 py-2 rounded-md border border-neutral-300 focus:outline-none"
                    />
                    <select
                      value={passenger.gender || ""}
                      onChange={(event) =>
                        handleInputChange(event, passenger.seatNumber, "gender")
                      }
                      className="flex-1 px-3 py-2 rounded-md border border-neutral-300 focus:outline-none"
                    >
                      <option value="">Жыныс</option>
                      <option value="Male">Еркек</option>
                      <option value="Female">Әйел</option>
                      <option value="Other">Өзге</option>
                    </select>
                  </div>
                </div>
              ))}

              <button
                type="submit"
                disabled={selectedSeats.length === 0}
                className={`w-full h-12 rounded-md text-white font-medium 
                  ${
                    selectedSeats.length === 0
                      ? "bg-gray-400 cursor-not-allowed"
                      : "bg-violet-600 hover:bg-violet-700"
                  }`}
              >
                Билетті брондау
              </button>
            </form>

            {bookingSuccess && (
              <div className="bg-green-500 text-white p-3 rounded-md mt-4 text-center">
                Брондау сәтті аяқталды!
              </div>
            )}
          </div>
        </div>

        {/* Правая часть (выбор мест) */}
        <div className="col-span-1 space-y-8">
          <div className="border rounded-md p-4 bg-neutral-100 dark:bg-neutral-900/60">
            <h2 className="text-xl font-semibold mb-3">Орындарыңызды таңдаңыз</h2>

            {/* =========== СЕТКА С МЕСТАМИ =========== */}
            <div className="w-full flex justify-between">
              <div className="flex-1 w-full flex">
                <div className="w-full flex-1 flex gap-x-5 items-stretch">
                  {/* Левая часть (руль + несколько рядов) */}
                  <div className="w-10 h-full border-r-2 border-dashed border-neutral-300 dark:border-neutral-800">
                    <GiSteeringWheel className="text-3xl text-violet-600 -rotate-90" />
                  </div>

                  <div className="flex flex-col items-center">
                    <div className="flex-1 space-y-4">
                      {/* рендер seats 0..9 */}
                      <div className="w-full grid grid-cols-10 gap-x-3">
                        {renderSeats().slice(0, 10)}
                      </div>
                      {/* рендер seats 10..19 */}
                      <div className="w-full grid grid-cols-10 gap-x-3">
                        {renderSeats().slice(10, 20)}
                      </div>
                      {/* seat #20 (отдельно) */}
                      <div className="w-full grid grid-cols-10 gap-x-3">
                        <div className="col-span-9"></div>
                        {renderSeats().slice(20, 21)}
                      </div>
                      {/* seats 21..30 */}
                      <div className="w-full grid grid-cols-10 gap-x-3">
                        {renderSeats().slice(21, 31)}
                      </div>
                      {/* seats 31..40 (ну а у нас 41, так что 31..41) */}
                      <div className="w-full grid grid-cols-10 gap-x-3">
                        {renderSeats().slice(31, 41)}
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {/* Правый столбец: легенда */}
              <div className="space-y-3 w-28 ml-3">
                {/* Available */}
                <div className="flex items-center gap-x-2">
                  <MdOutlineChair className="text-lg text-neutral-500 -rotate-90" />
                  <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
                    Available
                  </p>
                </div>
                {/* Booked */}
                <div className="flex items-center gap-x-2">
                  <MdOutlineChair className="text-lg text-red-500 -rotate-90" />
                  <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
                    Booked
                  </p>
                </div>
                {/* Selected */}
                <div className="flex items-center gap-x-2">
                  <MdOutlineChair className="text-lg text-violet-500 -rotate-90" />
                  <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
                    Selected
                  </p>
                </div>
                {/* Price Info */}
                <div className="flex items-center gap-x-2">
                  <RiMoneyDollarCircleLine className="text-lg text-neutral-500" />
                  <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
                    500 KZT
                  </p>
                </div>
              </div>
            </div>

            {/* Список выбранных мест */}
            {selectedSeats.length > 0 && (
              <div className="mt-8">
                <h3 className="text-lg font-bold">Selected Seats:</h3>
                <div className="flex flex-wrap mt-2">
                  {selectedSeats.map((seat) => (
                    <div
                      key={seat}
                      className="w-10 h-10 rounded-md m-1.5 text-lg font-medium bg-violet-600/30 flex items-center justify-center"
                    >
                      {seat}
                    </div>
                  ))}
                </div>
              </div>
            )}

            {/* Итоговая цена */}
            {selectedSeats.length > 0 && (
              <div className="mt-5 flex items-center gap-x-4">
                <h3 className="text-lg font-bold">Толық баға:</h3>
                <p className="text-lg font-medium">
                  {selectedSeats.length * 250} KZT
                </p>
              </div>
            )}
          </div>
        </div>
      </div>

      {/* Модальное окно подтверждения */}
      <Modal open={showConfirmation} onClose={() => setShowConfirmation(false)} center>
        <ConfirmationBox
          onClose={() => setShowConfirmation(false)}
          handleConfirm={handleConfirm}
          confirmObject={confirmObject}
        />
      </Modal>
    </div>
  );
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\buslayout\BusLayout1.jsx ====

import { useState, useEffect } from 'react';
import { MdOutlineChair } from "react-icons/md";
import { axiosInst } from '../../service/axiosInstance';
import { useParams } from 'react-router-dom';
import './BusLayout.css'; // Import CSS file
import { toast, ToastContainer } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';


function BusLayout() {
  const [seats, setSeats] = useState([]);
  const [travelInfo, setTravelInfo] = useState({});
  const [bookingSuccess, setBookingSuccess] = useState(false); // State to track booking success
  const [selectedSeats, setSelectedSeats] = useState([]);
  const [passengerDetails, setPassengerDetails] = useState([]);
  const [isPassengerDetailsFilled, setIsPassengerDetailsFilled] = useState(false);
  let totalSeats = 30;
  const { id } = useParams();
  

  const handleSeatClick = (seatNumber) => {
    if (selectedSeats.includes(seatNumber)) {
      setSelectedSeats(prevSelectedSeats => prevSelectedSeats.filter(seat => seat !== seatNumber));
      setPassengerDetails(prevDetails => prevDetails.filter(passenger => passenger.seatNumber !== seatNumber));
    } else {
      if (!seats.includes(seatNumber)) {
        setSelectedSeats(prevSelectedSeats => [...prevSelectedSeats, seatNumber]);
        setPassengerDetails(prevDetails => [
          ...prevDetails,
          { seatNumber, firstName: '', lastName: '', age: '', gender: '' }
        ]);
      } else {
        toast.error('Seat already booked', {
          position: "bottom-center",
          autoClose: 2000,
          hideProgressBar: true,
          closeOnClick: true,
          pauseOnHover: true,
          draggable: true,
        });
      }
    }
  };
  
  const handleInputChange = (event, seatNumber, fieldName) => {
    const { value } = event.target;
    setPassengerDetails(prevDetails =>
      prevDetails.map(passenger =>
        passenger.seatNumber === seatNumber ? { ...passenger, [fieldName]: value } : passenger
      )
    );
  };
 
  const handleSubmit = async (event) => {
    event.preventDefault();
    if(!isPassengerDetailsFilled){
      toast.error('Жолаушы мәліметтерін енгізіңіз', {
        position: 'bottom-center',
        autoClose: 2000,
        hideProgressBar: true,
        closeOnClick: true,
        pauseOnHover: true,
        draggable: true,
    })} else {
      try {
      
        const payload = {
          busId: id, // Assuming busId is a fixed value or it can come from state
          userId: localStorage.getItem('id'), // Assuming userId comes from localStorage or state
          fare: travelInfo.fare * passengerDetails.length, // Calculating fare based on the number of passengers and fare per passenger
          seatPassengerList: passengerDetails.map((passenger) => ({
            seatNo: passenger.seatNumber, // Assuming seat numbers start from 1
            passenger: {
              firstName: passenger.firstName,
              lastName: passenger.lastName,
              gender: passenger.gender,
              age: passenger.age
            }
          }))
        };
        
        const response = await axiosInst.post('/bookings/book', payload);
  
        console.log('Жолаушы туралы мәліметтер жіберілді:', response.data);
        setBookingSuccess(true); // Set booking success state to true
  
      } catch (error) {
        console.error('Жолаушы мәліметтерін жіберу қатесі:', error);
      }
    }
  };
 
const convertToValidDateTimeFormat = (dateTimeString) => {
  const date = new Date(dateTimeString);
  const day = date.getDate().toString().padStart(2, '0');
  const month = (date.getMonth() + 1).toString().padStart(2, '0');
  const year = date.getFullYear();
  const hours = date.getHours().toString().padStart(2, '0');
  const minutes = date.getMinutes().toString().padStart(2, '0');
  return `${day}/${month}/${year}: ${hours}:${minutes}`; 
};

const calculateTotalTime = (startTime, endTime) => {
  try {
    if (!startTime || !endTime) {
      return 'Invalid input';
    }

    const start = new Date(startTime);
    const end = new Date(endTime);

    let differenceMs = end - start;
    if (differenceMs < 0) {
      differenceMs += 24 * 60 * 60 * 1000;
    }

    const hours = Math.floor(differenceMs / (1000 * 60 * 60));
    const minutes = Math.floor((differenceMs % (1000 * 60 * 60)) / (1000 * 60));

    return `${hours} hours ${minutes} minutes`;
  } catch (error) {
    console.error('Error calculating total time:', error);
    return 'Invalid input';
  }
};




  const renderSeats = () => {
    const seatElements = [];
    for (let i = 1; i <= totalSeats; i++) {
      const isSeatBooked = seats.includes(i);
      const isSeatSelected = selectedSeats.includes(i);
      seatElements.push(
        <div key={i} className={`bus-seat ${isSeatBooked ? 'unavailable' : isSeatSelected ? 'selected' : 'available'}`} onClick={() => handleSeatClick(i)}>
          <MdOutlineChair className="seat-icon" />
          {i}
        </div>
      );
    }
    return seatElements;
  };
  
  const fetchBusById = async () => {
    try {
      const res = await axiosInst.get(`/seats/bus/${id}`, {
        headers: {
          Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
        },
      });
      setTravelInfo(res.data);
      totalSeats=res.data.totalSeats;
      // console.log(res.data,".............");
      setSeats(res.data.bookedSeats);
    } catch (error) {
      console.log(error);
    }
  };

  useEffect(() => {
    setIsPassengerDetailsFilled(
      passengerDetails.every(
        (passenger) =>
          passenger.firstName &&
          passenger.lastName &&
          passenger.age &&
          passenger.gender
      ) && passengerDetails.length > 0
    );
  }, [passengerDetails]);
  
  useEffect(() => {
    fetchBusById();
  }, []);
  
  return (
    <>
      <div className="bus-seat-selection-page">
      <ToastContainer />
        <div className="left-section">
          <div className="upper-left">
            <h2>Travel Information</h2>
            <p className='line'>Автобус нөмірі: {travelInfo.busNo}</p>
            <p className='line'><p>From: {travelInfo.from} </p><p>To: {travelInfo.to}</p></p>
            <p className='line'><p>Departure: {convertToValidDateTimeFormat(travelInfo.startTime)}</p>
            <p>Completion: {convertToValidDateTimeFormat(travelInfo.startTime)}</p></p>
            <p className='line'>Total Time: {calculateTotalTime(travelInfo.startTime, travelInfo.endTime)}</p>
          </div>
          <div className="lower-left">
            <h2>Жолаушы мәліметтері</h2>
            <form onSubmit={handleSubmit}>
              {passengerDetails.map(passenger => (
                <div key={passenger.seatNumber}>
                  <label htmlFor={`firstName_${passenger.seatNumber}`}>Seat {passenger.seatNumber}</label>
                  <div className="passenger-form">
                    <div className='line'><input
                      id={`firstName_${passenger.seatNumber}`}
                      type="text"
                      value={passenger.firstName || ''}
                      onChange={(event) => handleInputChange(event, passenger.seatNumber, 'firstName')}
                      placeholder="First Name"
                    />
                    <input
                      type="text"
                      value={passenger.lastName || ''}
                      onChange={(event) => handleInputChange(event, passenger.seatNumber, 'lastName')}
                      placeholder="Last Name"
                    /></div>
                    <div className='line'><input
                      type="number"
                      value={passenger.age || ''}
                      onChange={(event) => handleInputChange(event, passenger.seatNumber, 'age')}
                      placeholder="Age"
                    />
                    <select
                      value={passenger.gender || ''}
                      onChange={(event) => handleInputChange(event, passenger.seatNumber, 'gender')}
                    >
                      <option value="">Select Gender</option>
                      <option value="Male">Male</option>
                      <option value="Female">Female</option>
                      <option value="Other">Other</option>
                    </select></div>
                  </div>
                </div>
              ))}
              <button type='submit' disabled={selectedSeats.length === 0}>Book Ticket</button>

            </form>
            {bookingSuccess && (
        <div className="booking-success-message">
          <p>Yaay ... Booking Successful!</p>
        </div>
      )}
          </div>
        </div>
        <div className="right-section">
          <div className="main-card">
            <h2>Select your Seats</h2>
            <div className="seat-layout">
              <div>
                {renderSeats().slice(0, totalSeats / 2)}
              </div>
              <div>
                {renderSeats().slice(totalSeats / 2)}
              </div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
}

export default BusLayout;




==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\buslayout\BusLayout2.jsx ====
import { useState, useEffect } from "react";
import { MdOutlineChair } from "react-icons/md";
import { axiosInst } from "../../service/axiosInstance";
import { useParams } from "react-router-dom";
import "./BusLayout.css"; // Import CSS file
import { toast, ToastContainer } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
import useRazorpay from "react-razorpay";

function BusLayout() {
  const [Razorpay] = useRazorpay();
  const [seats, setSeats] = useState([]);
  const [travelInfo, setTravelInfo] = useState({});
  const [bookingSuccess, setBookingSuccess] = useState(false); // State to track booking success
  const [selectedSeats, setSelectedSeats] = useState([]);
  const [passengerDetails, setPassengerDetails] = useState([]);
  const [isPassengerDetailsFilled, setIsPassengerDetailsFilled] =
    useState(false);
  const [verificationResult, setVerificationResult] = useState("");
  let totalSeats = 30;
  const { id } = useParams();




  const loadScript = (src) => {
    return new Promise((resolve) => {
      const script = document.createElement("script");
      script.src = src;
      script.onload = () => {
        resolve(true);
      };
      script.onerror = () => {
        resolve(false);
      };
      document.body.appendChild(script);
    });
  };

  const handleSeatClick = (seatNumber) => {
    if (selectedSeats.includes(seatNumber)) {
      setSelectedSeats((prevSelectedSeats) =>
        prevSelectedSeats.filter((seat) => seat !== seatNumber)
      );
      setPassengerDetails((prevDetails) =>
        prevDetails.filter((passenger) => passenger.seatNumber !== seatNumber)
      );
    } else {
      if (!seats.includes(seatNumber)) {
        setSelectedSeats((prevSelectedSeats) => [
          ...prevSelectedSeats,
          seatNumber,
        ]);
        setPassengerDetails((prevDetails) => [
          ...prevDetails,
          { seatNumber, firstName: "", lastName: "", age: "", gender: "" },
        ]);
      } else {
        toast.error("Seat already booked", {
          position: "bottom-center",
          autoClose: 2000,
          hideProgressBar: true,
          closeOnClick: true,
          pauseOnHover: true,
          draggable: true,
        });
      }
    }
  };

  const handleInputChange = (event, seatNumber, fieldName) => {
    const { value } = event.target;
    setPassengerDetails((prevDetails) =>
      prevDetails.map((passenger) =>
        passenger.seatNumber === seatNumber
          ? { ...passenger, [fieldName]: value }
          : passenger
      )
    );
  };

  const handleSubmit = async (event) => {
    event.preventDefault();
    if (!isPassengerDetailsFilled) {
      toast.error("Жолаушы мәліметтерін енгізіңіз", {
        position: "bottom-center",
        autoClose: 2000,
        hideProgressBar: true,
        closeOnClick: true,
        pauseOnHover: true,
        draggable: true,
      });
    } else {
      const scriptLoaded = await loadScript(
        "https://checkout.razorpay.com/v1/checkout.js"
      );

      if (scriptLoaded) {
        try {
          const response = await axiosInst.post("/payment/razorpay", {
            amount: travelInfo.fare * passengerDetails.length,
          });

          const data = response.data;

          console.log(data);

          const options = {
            key: "rzp_test_bTDnw950m7Mzb4",
            currency: data.currency,
            amount: data.amount,
            name: "Dimash Bus",
            description: "Dimash Bus Booking ",
            // image: motocross,
            order_id: data.id,
            theme: {
              color: "#3bb19b",
            },
            handler: async function (response) {
              
              
              const payload = {
                 paymentId : response.razorpay_payment_id,
               razorpayOrderId : response.razorpay_order_id,
               razorpaySignature : response.razorpay_signature,
                busId: id, // Assuming busId is a fixed value or it can come from state
                userId: localStorage.getItem('id'), // Assuming userId comes from localStorage or state
                fare: travelInfo.fare * passengerDetails.length, // Calculating fare based on the number of passengers and fare per passenger
                seatPassengerList: passengerDetails.map((passenger) => ({
                  seatNo: passenger.seatNumber, // Assuming seat numbers start from 1
                  passenger: {
                    firstName: passenger.firstName,
                    lastName: passenger.lastName,
                    gender: passenger.gender,
                    age: passenger.age
                  }
                }))
              };
              try {
                const response1 = await axiosInst.post(
                  "/payment/verify-payment",
                 payload
                );

                const data = response1.data;

                if (data.success) {
                  setVerificationResult("Payment is successful");
                  toast.success("Payment Success");
                  setBookingSuccess(true); // Set booking success state to true
                } else {
                  setVerificationResult("Payment is not successful");
                  toast.error(data.message);
                }
              } catch (error) {
                console.error("Payment Verification Error:", error);
                setVerificationResult("Payment verification failed");
              }
            },
          };

          var rzp1 = new Razorpay(options);
          rzp1.open();
        } catch (error) {
          console.log("Failed to load Razorpay script.", error);
        }
      } else {
        console.log("Failed to load Razorpay script.");
      }

      
    }
  };

  const convertToValidDateTimeFormat = (dateTimeString) => {
    const date = new Date(dateTimeString);
    const day = date.getDate().toString().padStart(2, "0");
    const month = (date.getMonth() + 1).toString().padStart(2, "0");
    const year = date.getFullYear();
    const hours = date.getHours().toString().padStart(2, "0");
    const minutes = date.getMinutes().toString().padStart(2, "0");
    return `${day}/${month}/${year}: ${hours}:${minutes}`;
  };

  const calculateTotalTime = (startTime, endTime) => {
    try {
      if (!startTime || !endTime) {
        return "Invalid input";
      }

      const start = new Date(startTime);
      const end = new Date(endTime);

      let differenceMs = end - start;
      if (differenceMs < 0) {
        differenceMs += 24 * 60 * 60 * 1000;
      }

      const hours = Math.floor(differenceMs / (1000 * 60 * 60));
      const minutes = Math.floor(
        (differenceMs % (1000 * 60 * 60)) / (1000 * 60)
      );

      return `${hours} сағат ${minutes} минут`;
    } catch (error) {
      console.error("Error calculating total time:", error);
      return "Invalid input";
    }
  };

  const renderSeats = () => {
    const seatElements = [];
    for (let i = 1; i <= totalSeats; i++) {
      const isSeatBooked = seats.includes(i);
      const isSeatSelected = selectedSeats.includes(i);
      seatElements.push(
        <div
          key={i}
          className={`bus-seat ${
            isSeatBooked
              ? "unavailable"
              : isSeatSelected
              ? "selected"
              : "available"
          }`}
          onClick={() => handleSeatClick(i)}
        >
          <MdOutlineChair className="seat-icon" />
          {i}
        </div>
      );
    }
    return seatElements;
  };

  const fetchBusById = async () => {
    try {
      const res = await axiosInst.get(`/seats/bus/${id}`, {
        headers: {
          Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
        },
      });
      console.log(res.data,"///////");
      setTravelInfo(res.data);
      totalSeats = res.data.totalSeats;
      // console.log(res.data,".............");
      setSeats(res.data.bookedSeats);
    } catch (error) {
      console.log(error);
    }
  };

  useEffect(() => {
    setIsPassengerDetailsFilled(
      passengerDetails.every(
        (passenger) =>
          passenger.firstName &&
          passenger.lastName &&
          passenger.age &&
          passenger.gender
      ) && passengerDetails.length > 0
    );
  }, [passengerDetails]);

  useEffect(() => {
    fetchBusById();
  }, []);

  return (
    <>
      <div className="bus-seat-selection-page">
        <ToastContainer />
        <div className="left-section">
          <div className="upper-left">
            <h2>Travel Information</h2>
            <p className="line">Автобус нөмірі: {travelInfo.busNo}</p>
            <p className="line">
              <p>From: {travelInfo.from} </p>
              <p>To: {travelInfo.to}</p>
            </p>
            <p className="line">
              <p>
                Departure: {convertToValidDateTimeFormat(travelInfo.startTime)}
              </p>
              <p>
                Completion: {convertToValidDateTimeFormat(travelInfo.startTime)}
              </p>
            </p>
            <p className="line">
              Total Time:{" "}
              {calculateTotalTime(travelInfo.startTime, travelInfo.endTime)}
            </p>
          </div>
          <div className="lower-left">
            <h2>Жолаушы мәліметтері</h2>
            <form onSubmit={handleSubmit}>
              {passengerDetails.map((passenger) => (
                <div key={passenger.seatNumber}>
                  <label htmlFor={`firstName_${passenger.seatNumber}`}>
                    Орын {passenger.seatNumber}
                  </label>
                  <div className="passenger-form">
                    <div className="line">
                      <input
                        id={`firstName_${passenger.seatNumber}`}
                        type="text"
                        value={passenger.firstName || ""}
                        onChange={(event) =>
                          handleInputChange(
                            event,
                            passenger.seatNumber,
                            "firstName"
                          )
                        }
                        placeholder="First Name"
                      />
                      <input
                        type="text"
                        value={passenger.lastName || ""}
                        onChange={(event) =>
                          handleInputChange(
                            event,
                            passenger.seatNumber,
                            "lastName"
                          )
                        }
                        placeholder="Last Name"
                      />
                    </div>
                    <div className="line">
                      <input
                        type="number"
                        value={passenger.age || ""}
                        onChange={(event) =>
                          handleInputChange(event, passenger.seatNumber, "age")
                        }
                        placeholder="Age"
                        min="0"
                      />
                      <select
                        value={passenger.gender || ""}
                        onChange={(event) =>
                          handleInputChange(
                            event,
                            passenger.seatNumber,
                            "gender"
                          )
                        }
                      >
                        <option value="">Select Gender</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                      </select>
                    </div>
                  </div>
                </div>
              ))}
              <button type="submit" disabled={selectedSeats.length === 0}>
                Book Ticket
              </button>
            </form>
            {bookingSuccess && (
              <div className="booking-success-message">
                <p>Yaay ... Booking Successful!</p>
              </div>
            )}
          </div>
        </div>
        <div className="right-section">
          <div className="main-card">
            <h2>Select your Seats</h2>
            <div className="seat-layout">
              <div>{renderSeats().slice(0, totalSeats / 2)}</div>
              <div>{renderSeats().slice(totalSeats / 2)}</div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
}

export default BusLayout;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\buslayout\Details.jsx ====
import React from "react";
import Bus from "../../assets/images/bus9.png";
import { FaStar } from "react-icons/fa6";
import { Link } from "react-router-dom";
import Seat from "./Seat"

const Details = () => {
  return (
    <div className="w-full lg:px-28 md:px-16 sm:px-7 px-4 mt-[13ch] mb-[10ch]">
      <div className="w-full grid grid-cols-2 gap-16 items-center">
        <div className="col-span-1 space-y-8">
          <img
            src={Bus}
            alt="detail img"
            className="w-full aspect-[3/2] rounded-md object-contain"
          />

        </div>

        <div className="col-span-1 space-y-10">
        <div className="space-y-6">
            <Seat/>
          </div>
          <div className="flex">
            <Link to={"/bus/bus-details/checkout"} className="w-fit bg-violet-600 text-neutral-50 font-medium text-base px-6 py-2 rounded-md hover:bg-violet-700 ease-in-out duration-300">Processed to Checkout</Link>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Details;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\buslayout\Seat.jsx ====
import React, { useState } from "react";
import { GiSteeringWheel } from "react-icons/gi";
import { MdOutlineChair } from "react-icons/md";
import { RiMoneyDollarCircleLine } from "react-icons/ri";

const Seat = ({ seatNumber, isSelected, onClick }) => {
  return (
    <MdOutlineChair
      className={`text-3xl -rotate-90 cursor-pointer ${
        isSelected ? "text-violet-600" : "text-neutral-600"
      }`}
      onClick={onClick}
    />
  );
};

const BusSeatLayout = () => {
  const totalSeats = 30;
  const [selectedSeats, setSelectedSeats] = useState([]);

  const handleSeatClick = (seatNumber) => {
    if (selectedSeats.includes(seatNumber)) {
      setSelectedSeats(selectedSeats.filter((seat) => seat !== seatNumber));
    } else {
      if (selectedSeats.length < 10) {
        setSelectedSeats([...selectedSeats, seatNumber]);
      } else {
        alert("You can only selected a maximum of 10 seats.");
      }
    }
  };

  const renderSeats = () => {
    let seats = [];
    for (let i = 1; i <= totalSeats; i++) {
      seats.push(
        <Seat
          key={i}
          seatNumber={i}
          isSelected={selectedSeats.includes(i)}
          onClick={() => handleSeatClick(i)}
        />
      );
    }
    return seats;
  };

  return (
    <div className="space-y-5">
      <h2 className="text-xl text-neutral-800 dark:text-neutral-100 font-medium">
        Орындарыңызды таңдаңыз
      </h2>

      <div className="w-full flex justify-between">
        <div className="flex-1 w-full flex">
          <div className="w-full flex-1 flex gap-x-5 items-stretch">
            <div className="w-10 h-full border-r-2 border-dashed border-neutral-300 dark:border-neutral-800">
              <GiSteeringWheel className="text-3xl text-violet-600 -rotate-90" />
            </div>

            <div className="flex flex-col items-center">
              <div className="flex-1 space-y-4">
                <div className="w-full grid grid-cols-10 gap-x-3">
                  {renderSeats().slice(0, 10)}
                </div>
                <div className="w-full grid grid-cols-10 gap-x-3">
                  {renderSeats().slice(10, 20)}
                </div>
                <div className="w-full grid grid-cols-10 gap-x-3">
                  <div className="col-span-9"></div>
                  {renderSeats().slice(20, 21)}
                </div>
                <div className="w-full grid grid-cols-10 gap-x-3">
                  {renderSeats().slice(21, 31)}
                </div>
                <div className="w-full grid grid-cols-10 gap-x-3">
                  {renderSeats().slice(31, 41)}
                </div>
              </div>
            </div>
          </div>
        </div>

        <div className="space-y-3 w-30">
          <div className="flex items-center gap-x-2">
            <MdOutlineChair className="text-lg text-neutral-500 -rotate-90" />
            <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
              Available
            </p>
          </div>

          <div className="flex items-center gap-x-2">
            <MdOutlineChair className="text-lg text-red-500 -rotate-90" />
            <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
              Booked
            </p>
          </div>

          <div className="flex items-center gap-x-2">
            <MdOutlineChair className="text-lg text-violet-500 -rotate-90" />
            <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
              Selected
            </p>
          </div>

          <div className="flex items-center gap-x-2">
            <RiMoneyDollarCircleLine className="text-lg text-neutral-500" />
            <p className="text-neutral-900 dark:text-neutral-200 text-sm font-normal">
              500 KZT
            </p>
          </div>
        </div>
      </div>

      {selectedSeats.length > 0 && (
        <div className="!mt-10">
          <h3 className="text-lg font-bold">Selected Seats:</h3>
          <div className="flex flex-wrap">
            {selectedSeats.map((seat) => (
              <div className="w-10 h-10 rounded-md m-1.5 text-lg font-medium bg-violet-600/30 flex items-center justify-center">
                {seat}
              </div>
            ))}
          </div>
        </div>
      )}
      {selectedSeats.length > 0 && (
        <div className="!mt-5 flex items-center gap-x-4">
          <h3 className="text-lg font-bold">Total Fair Prices:</h3>
          <p className="text-lg font-medium">
            Rs. {selectedSeats.length * 750}
          </p>
          <span className="text-sm text-neutral-400 dark:text-neutral-600 font-normal">
            (Including all of the taxes)
          </span>
        </div>
      )}
    </div>
  );
};

export default BusSeatLayout;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\cardCarousel\CardCarousel.css ====
.custom-carousel {
  margin: 100px 0;
}

.carousel-inner {
  display: flex;
  align-items: center; /* Vertically center items */
}

.card-group {
  display: flex;
  justify-content: center;
}

.card {
  background-color: #ffffff;
  border: 1px solid #cccccc;
  border-radius: 10px;
  padding: 20px;
  margin: 0 20px; /* Adjust spacing between cards */
  width: 300px; /* Adjust card width as needed */
}

.card img {
  width: 100%; /* Ensure the image fills the entire card */
  border-radius: 10px;
  margin-bottom: 10px;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
  color: #000000; /* Customize carousel control icons */
}

.carousel-control-prev,
.carousel-control-next {
  width: 50px; 
  height: 50px; 
  margin-top: auto; 
  margin-bottom: auto; 
  color: #000000;
  
  
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\cardCarousel\CardCarousel.jsx ====
import { Carousel } from "react-bootstrap";
import "./CardCarousel.css"; // Өз стиліңізді импорттаңыз
import CardImage from "../../assets/images/card.jpg";

function CardCarousel() {
  return (
    <Carousel className="custom-carousel" interval={1400} indicators={false}>
      <Carousel.Item>
        <div className="card-group">
          <div className="card">
            <img src={CardImage} alt="Ұсыныс 1" />
            <h2>Автобус билеттеріне жеңілдік</h2>
            <h3>АЛҒАШҚЫ АВТОБУС</h3>
            <p>Автобус билеттеріне 250 〒-қа дейін үнемдеңіз</p>
          </div>
          <div className="card">
            <img src={CardImage} alt="Ұсыныс 2" />
            <h2>Автобус билеттеріне жеңілдік</h2>
            <h3>АЛҒАШҚЫ АВТОБУС</h3>
            <p>Автобус билеттеріне 250 〒-қа дейін үнемдеңіз</p>
          </div>
          <div className="card">
            <img src={CardImage} alt="Ұсыныс 3" />
            <h2>Автобус билеттеріне жеңілдік</h2>
            <h3>АЛҒАШҚЫ АВТОБУС</h3>
            <p>Автобус билеттеріне 250 〒-қа дейін үнемдеңіз</p>
          </div>
        </div>
      </Carousel.Item>

      <Carousel.Item>
        <div className="card-group">
          <div className="card">
            <img src={CardImage} alt="Ұсыныс 1" />
            <h2>Автобус билеттеріне жеңілдік</h2>
            <h3>АЛҒАШҚЫ АВТОБУС</h3>
            <p>Автобус билеттеріне 250 〒-қа дейін үнемдеңіз</p>
          </div>
          <div className="card">
            <img src={CardImage} alt="Ұсыныс 2" />
            <h2>Автобус билеттеріне жеңілдік</h2>
            <h3>АЛҒАШҚЫ АВТОБУС</h3>
            <p>Автобус билеттеріне 250 〒-қа дейін үнемдеңіз</p>
          </div>
          <div className="card">
            <img src={CardImage} alt="Ұсыныс 3" />
            <h2>Автобус билеттеріне жеңілдік</h2>
            <h3>АЛҒАШҚЫ АВТОБУС</h3>
            <p>Автобус билеттеріне 250 〒-қа дейін үнемдеңіз</p>
          </div>
        </div>
      </Carousel.Item>
    </Carousel>
  );
}

export default CardCarousel;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\ConfirmationBox\ConfirmationBox.css ====
.confirmation-box {
    font-family: Arial, sans-serif;
    color: #333;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }
  
  .confirmation-box p {
    margin: 5px 0;
  }
  
  .confirmation-box button {
    background-color: #3bb19b;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  .confirmation-box button:hover {
    background-color: #2e856e;
  }
  


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\ConfirmationBox\ConfirmationBox.jsx ====
import { useEffect } from "react";
import PropTypes from "prop-types";
import "./ConfirmationBox.css"; // Import the CSS file

function ConfirmationBox({ onClose, handleConfirm, confirmObject }) {
  const handleClick = () => {
    handleConfirm();
    onClose();
  };


  return (
    <div className="confirmation-box">
      <p>Растағыңыз келетініне сенімдісіз бе?</p>
      <p>Қайдан: {confirmObject.from}</p>
      <p>Қайда: {confirmObject.to}</p>
      <p>Автобус нөмірі: {confirmObject.busNo}</p>
      <p>Билеттер саны: {confirmObject.noOfTickets}</p>
      <p>Бағасы: {confirmObject.cost}</p>
      
      <button onClick={handleClick}>Растау</button>
    </div>
  );
}

ConfirmationBox.propTypes = {
  onClose: PropTypes.func.isRequired,
  handleConfirm: PropTypes.func.isRequired,
  confirmObject: PropTypes.object.isRequired,
};

export default ConfirmationBox;


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\footer\Footer.css ====
/* Footer.css */

.footer {
  background-color: #333333; /* Set background color */
  color: #ffffff; /* Set text color */
  padding: 30px 0; /* Add padding */
}

.footer_section {
  margin-bottom: 20px; /* Add bottom margin */
}

.footer_section-social {
  text-align: center; /* Center align social links */
}

.footer_social-link {
  font-size: 24px; /* Set font size */
  color: #ffffff; /* Set link color */
  margin: 0 10px; /* Add margin between links */
}

.footer_social-link:hover {
  color: #ff9900; /* Set link color on hover */
}

.footer_content-container {
  text-align: center; /* Center align content */
}

.footer_content-heading {
  font-size: 24px; /* Set heading font size */
  margin-bottom: 10px; /* Add bottom margin */
}

.footer_content-paragraph {
  font-size: 16px; /* Set paragraph font size */
  margin-bottom: 20px; /* Add bottom margin */
}

.footer_content-link {
  color: #ffffff; /* Set link color */
}

.footer_content-link:hover {
  color: #ff9900; /* Set link color on hover */
}

.footer_copyright {
  text-align: center; /* Center align copyright text */
  font-size: 14px; /* Set font size */
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\footer\Footer.jsx ====
import React from 'react'
import { FaMapPin } from 'react-icons/fa6'
import { Link } from 'react-router-dom'
import Logo from "../../assets/images/logo.png";

const Footer = () => {
  return (
    <footer className="w-full lg:px-28 md:px-16 sm:px-7 px-4 py-8 bg-neutral-200/60 dark:bg-neutral-900/70">
      <div className="grid grid-cols-5 gap-5">
        <div className="space-y-5 col-span-2">
          <Link to="/" className='text-xl text-neutral-800 dark:text-neutral-200 font-bold'>
            <img src={Logo} alt="logo" className="w-44 h-auto object-contain" />
          </Link>
          <p className="text-neutral-600 dark:text-neutral-500 text-base font-normal pr-10">
          Автобус билеттеріңізді дәл қазір брондаңыз
          Бар болғаны бірнеше рет басып, қажетті бағытыңыз бен уақытты 
          таңдаңыз — сіздің сапарыңыз бұрын-соңды болмағандай оңай болмақ.
          </p>
        </div>

        <div className="space-y-7">
          <h1 className="text-lg font-medium">About Us</h1>
          <ul className="space-y-2 text-neutral-600 dark:text-neutral-500 text-base font-normal">
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>About Us</Link>
            </li>
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>Contact Us</Link>
            </li>
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>Privacy Policy</Link>
            </li>
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>Terms and Conditions</Link>
            </li>
          </ul>
        </div>

        <div className="space-y-7">
          <h1 className="text-lg font-medium">Services</h1>
          <ul className="space-y-2 text-neutral-600 dark:text-neutral-500 text-base font-normal">
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>Safety Guarantee</Link>
            </li>
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>FAQ & Support</Link>
            </li>
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>Luxury Buses</Link>
            </li>
            <li>
              <Link to="#" className='hover:text-violet-600 ease-in-out duration-300'>Enough Facilities</Link>
            </li>
          </ul>
        </div>

        <div className="space-y-7">
          <h1 className="text-lg font-medium">Get In Touch</h1>
          <div className="space-y-4">
            <div className="flex gap-x-2">
              <FaMapPin className='text-2xl text-neutral-600 dark:text-neutral-500' />
              <div className="flex flex-col">
                <p className="text-xs text-neutral-600 dark:text-neutral-500">
                  For Support & Reservations
                </p>
                <p className="text-sm text-neutral-700 dark:text-neutral-400">
                  FIT, Kaznu, Almaty.
                </p>
              </div>
            </div>
            {/* ...ещё блоки по желанию... */}
          </div>
        </div>
      </div>
      <h3 className="text-lg font-bold text-center">Dimash Bus</h3>
    </footer>
  )
}

export default Footer



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\header\Header.jsx ====
import Navbar from './Navbar';

function Header() {
  return (
    <Navbar/>
  );
}

export default Header;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\header\Navbar.css ====
/* Navbar.css */
.custom-navbar {
  position: fixed;
  top: 0;
  z-index: 1000;
  width: 100%;
  background-color: #3bb19b; /* Set background color */
  padding: 10px 20px; /* Add padding */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Add shadow */
}

.custom-navbar-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.custom-navbar-left {
  display: flex;
  align-items: center;
}

.logo {
  font-size: 24px;
  margin-right: 10px;
}

.logo-bus {
  font-size: 30px;
  margin-bottom: 5px;
  color: #ff9900; /* Set bus icon color */
}

h4 {
  margin: 0 !important;
  font-size: 20px;
}

.dashboard-button,
.team-button,
.login-button,
.logout-button,
.bookings-button {
  text-decoration: none;
  color: #333333; /* Set button text color */
  padding: 8px 16px;
  margin-left: 10px;
  border-radius: 4px;
  transition: background-color 1s ease;
}

.dashboard-button:hover,
.team-button:hover,
.login-button:hover,
.logout-button:hover,
.bookings-button:hover {
  background-color: #f0f0f0; /* Set button background color on hover */
}

.custom-navbar-right {
  display: flex;
  align-items: center;
}

.notification-button,
.profile-button {
  background-color: transparent;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin-left: 10px;
}

.notification-icon {
  font-size: 24px;
  color: #333333; /* Set icon color */
  transition: background-color 1s ease;
}
.profile-icon {
  font-size: 30px;
  color: #333333; /* Set icon color */
  transition: background-color 1s ease;
}

.notification-button:hover,
.profile-button:hover {
  background-color: #f0f0f0; /* Set icon color on hover */
}

.ProfileCard{
  background-color: transparent;
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\header\Navbar.jsx ====
import React, { useEffect, useState } from 'react'
import { Link } from 'react-router-dom'
import { ToastContainer, toast } from 'react-toastify'
import { Modal } from 'react-responsive-modal'
import 'react-responsive-modal/styles.css'
import 'react-toastify/dist/ReactToastify.css'

import { IoNotificationsSharp } from "react-icons/io5"
import { CgProfile } from "react-icons/cg"
import { LiaTimesSolid } from 'react-icons/lia'
import { FaBars } from 'react-icons/fa6'

import Theme from '../theme/Theme'
import ProfileCard from '../profileCard/ProfileCard'
import Logo from "../../assets/images/logo.png"

const Navbar = () => {
  const [jwtToken, setJwtToken] = useState(localStorage.getItem('jwtToken'))
  const [id, setId] = useState(localStorage.getItem('id'))

  const [openMenu, setOpenMenu] = useState(false)        // мобильное меню
  const [showProfile, setShowProfile] = useState(false)  // модалка профиля

  // Обработка клика по иконке-бургеру
  const handleToggleMenu = () => {
    setOpenMenu(!openMenu)
  }

  // Спрятать меню при клике на ссылку
  const handleCloseMenu = () => {
    setOpenMenu(false)
  }

  // Показ уведомления (пример)
  const handleNotify = () => {
    toast.info("Уведомление тестовое", {
      position: "top-right",
      autoClose: 3000,
      hideProgressBar: false,
      closeOnClick: true,
      draggable: true,
    })
  }

  // Обработка логаута
  const handleLogout = () => {
    if (window.confirm("Confirm Logout!")) {
      localStorage.removeItem('jwtToken')
      localStorage.removeItem('id')
      setJwtToken(null)
      setId(null)
      toast.success('Logged out successfully')
    }
  }

  return (
    <div className='w-full h-[8ch] bg-neutral-100 dark:bg-neutral-900 flex items-center 
      md:flex-row lg:px-28 md:px-16 sm:px-7 px-4 fixed top-0 z-50'>
      {/* Логотип */}
      <Link to="/" className='mr-16 flex items-center'>
        <img src={Logo} alt="Dimash Bus" className="w-28 h-auto object-contain" />
      </Link>

      {/* Кнопка-бургер для мобильного меню */}
      <button
        onClick={handleToggleMenu}
        className="flex-1 lg:hidden text-neutral-600 dark:text-neutral-300 
          ease-in-out duration-300 flex items-center justify-end"
      >
        {openMenu ? <LiaTimesSolid className='text-xl' /> : <FaBars className='text-xl' />}
      </button>

      {/* Блок основных ссылок и кнопок */}
      <div
        className={`${openMenu ? 
          'flex absolute top-14 left-0 w-full h-auto md:h-auto md:relative' 
          : 'hidden'}
          flex-1 md:flex flex-col md:flex-row gap-x-5 gap-y-2 md:items-center 
          md:p-0 sm:p-4 p-4 justify-between md:bg-transparent bg-neutral-100 
          md:shadow-none shadow-md rounded-md`}
      >
        <ul className="list-none flex md:items-center items-start gap-x-5 gap-y-1 
          flex-wrap md:flex-row flex-col text-base text-neutral-600 dark:text-neutral-500 font-medium"
        >
          <li>
            <Link
              to="/"
              onClick={handleCloseMenu}
              className="hover:text-violet-600 ease-in-out duration-300"
            >
              Брондау
            </Link>
          </li>
          {jwtToken && (
            <li>
              <Link
                to={`/bookings/${id}`}
                onClick={handleCloseMenu}
                className="hover:text-violet-600 ease-in-out duration-300"
              >
                Менің брондарым
              </Link>
            </li>
          )}
        </ul>

        <div className="flex md:items-center items-start gap-x-5 gap-y-2 
          flex-wrap md:flex-row flex-col text-base font-medium text-neutral-800 dark:text-neutral-100"
        >
          {/* Нотификации */}
          <button
            onClick={handleNotify}
            className='bg-violet-600 rounded-md px-3 py-2 w-fit relative text-neutral-50'
          >
            <IoNotificationsSharp className='text-lg' />
          </button>

          {/* Модалка профиля */}
          <Modal open={showProfile} onClose={() => setShowProfile(false)} center>
            <ProfileCard 
              className="ProfileCard" 
              id={id} 
              onClose={() => setShowProfile(false)}
            />
          </Modal>

          {jwtToken && id ? (
            // Если пользователь залогинен
            <div className="flex items-center gap-x-2">
              <button
                onClick={() => setShowProfile(true)}
                className="bg-violet-600 rounded-md px-3 py-2 w-fit text-neutral-50 flex items-center gap-x-1"
              >
                <CgProfile className="text-lg" />
                Профиль
              </button>
              <button
                onClick={handleLogout}
                className="bg-red-500 rounded-md px-3 py-2 w-fit text-neutral-50"
              >
                Шығу
              </button>
            </div>
          ) : (
            // Если не залогинен
            <Link
              to="/login"
              onClick={handleCloseMenu}
              className="bg-violet-600 rounded-md px-3 py-2 w-fit text-neutral-50"
            >
              Кіру
            </Link>
          )}

          {/* Переключатель темы */}
          <Theme />
        </div>
      </div>

      <ToastContainer />
    </div>
  )
}

export default Navbar



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\profileCard\ProfileCard.css ====
.profile-card {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  width: 300px;
  text-align: center;
}

.profile-content p {
  font-size: 16px;
  color: #333;
}

.bookings-button, .link-change-password, .logout-button {
  display: block;
  margin: 10px auto;
  padding: 10px;
  text-decoration: none;
  border-radius: 5px;
  text-align: center;
}

.bookings-button {
  background-color: #007bff;
  color: white;
}

.link-change-password {
  background-color: #f0ad4e;
  color: white;
}

.logout-button {
  background-color: #dc3545;
  color: white;
  border: none;
  cursor: pointer;
}
.logout-button:hover {
  background-color: #c82333;
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\profileCard\ProfileCard.jsx ====
import { useEffect, useState } from "react";
import { Link } from "react-router-dom";
import PropTypes from "prop-types"; // Добавлено для валидации пропсов
import "./ProfileCard.css"; // Файл для стилизации
import { axiosInst } from "../../service/axiosInstance";
import { toast } from "react-hot-toast";

function ProfileCard({ id, onClose }) {
  const [user, setUser] = useState(null);

  useEffect(() => {
    fetchUserData();
  }, []);

  const fetchUserData = async () => {
    try {
      const response = await axiosInst.get(`/user/${id}`, {
        headers: { Authorization: `Bearer ${localStorage.getItem("jwtToken")}` },
      });
      setUser(response.data);
    } catch (error) {
      console.error("Error fetching user data:", error);
      toast.error("Failed to load user data.");
    }
  };

  const handleLogout = () => {
    localStorage.removeItem("jwtToken");
    window.location.href = "/login"; // Перенаправление на страницу входа
  };

  return (
    <div className="profile-card">
      <h3>Welcome, {user ? user.firstName : "User"}!</h3>
      <div className="profile-content">
        {user ? (
          <>
            <p>First Name: {user.firstName}</p>
            <p>Last Name: {user.lastName}</p>
            <p>Age: {user.age}</p>
          </>
        ) : (
          <p>Loading...</p>
        )}
        <Link to="/change-password" className="link-change-password" onClick={onClose}>
          Change Password
        </Link>
        <button onClick={handleLogout} className="logout-button">
          Logout
        </button>
      </div>
    </div>
  );
}

// Валидация пропсов
ProfileCard.propTypes = {
  id: PropTypes.string.isRequired,
  onClose: PropTypes.func,
};

export default ProfileCard;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\searchform\Search.jsx ====
import React, { useState, useEffect } from "react";
import { axiosInst } from "../../service/axiosInstance";
import { ToastContainer, toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
import "bootstrap/dist/css/bootstrap.min.css";
import { useNavigate } from "react-router-dom";

const Search = () => {
  const navigate = useNavigate();

  // Список станций
  const [stationList, setStationList] = useState([]);
  // Выбранные станции
  const [selectedFromStation, setSelectedFromStation] = useState("");
  const [selectedToStation, setSelectedToStation] = useState("");

  // Дата и время
  const [selectedDate, setSelectedDate] = useState("");
  const [selectedTime, setSelectedTime] = useState("");

  // Список автобусов (результат поиска)
  const [buses, setBuses] = useState([]);
  // Флаг "не найдено"
  const [noBusesFound, setNoBusesFound] = useState(false);

  // Станции для поля To (исключаем ту, что выбрана в From)
  const [filteredToOptions, setFilteredToOptions] = useState([]);
  const {ClassOptions} = {
    ClassOptions: [
      { id: "ECONOMY", name: "Эконом" },
      { id: "COMFORT", name: "Комфорт" },
      { id: "BUSINESS", name: "Бизнес" },
    ],
  }
  const [classes, setClass] = "ECONOMY";


  // Загрузка списка станций при монтировании
  useEffect(() => {
    fetchStationList();
  }, []);

  // Фильтруем список станций для To, исключая выбранную в From
  useEffect(() => {
    if (selectedFromStation) {
      setFilteredToOptions(
        stationList.filter((s) => s.id.toString() !== selectedFromStation)
      );
    } else {
      setFilteredToOptions(stationList);
    }
  }, [stationList, selectedFromStation]);

  const fetchStationList = () => {
    axiosInst
      .get("/station/getstations")
      .then((response) => {
        setStationList(response.data);
        setFilteredToOptions(response.data);
      })
      .catch((error) => {
        console.error("Error fetching stations:", error);
        toast.error("Failed to fetch station list");
      });
  };

  const handleFromChange = (e) => {
    setSelectedFromStation(e.target.value);
  };

  const handleToChange = (e) => {
    setSelectedToStation(e.target.value);
  };

  const handleDateChange = (e) => {
    setSelectedDate(e.target.value);
  };

  const handleTimeChange = (e) => {
    setSelectedTime(e.target.value);
  };

  const handleClassChange = (e) => {
    setClass(e.target.value);
  };
  // Поиск автобусов
  const search = () => {
    if (!selectedFromStation || !selectedToStation || !selectedDate) {
      toast.warning("Please select From, To, and Date");
      return;
    }

    const requestBody = {
      from: selectedFromStation,
      to: selectedToStation,
      date: selectedDate,
      // time: selectedTime, // если бекенд поддерживает время
    };

    axiosInst
      .post("/bus/getbuses", requestBody)
      .then((response) => {
        setBuses(response.data);
        if (response.data.length === 0) {
          setNoBusesFound(true);
          toast.warning("Oops! No buses found for that date or route");
        } else {
          setNoBusesFound(false);
        }
      })
      .catch((error) => {
        console.error("Error fetching buses:", error);
        toast.error("Failed to fetch buses");
      });
  };

  // При нажатии "Reserve Seat"
  const handleBookNow = (busId) => {
    navigate(`/buslayout/${busId}`);
  };

  return (
    <div className="w-full lg:px-28 md:px-16 sm:px-7 px-4 my-[8ch]">
      <ToastContainer />

      {/* Блок поиска */}
      <div className="w-full bg-neutral-100 rounded-md p-8">
        <div className="grid grid-cols-3 gap-x-10 gap-y-12 items-end">
          {/* FROM */}
          <div>
            <label htmlFor="from" className="block mb-2 font-semibold">
              Қайдан
            </label>
            <select
              name="from"
              id="from"
              className="w-full appearance-none bg-neutral-200/60 px-3 h-12 border border-neutral-900 rounded-md focus:outline-none focus:bg-neutral-100"
              value={selectedFromStation}
              onChange={handleFromChange}
            >
              <option value="">Select Location</option>
              {stationList.map((station) => (
                <option key={station.id} value={station.id}>
                  {station.station_name}
                </option>
              ))}
            </select>
          </div>

          {/* TO */}
          <div>
            <label htmlFor="to" className="block mb-2 font-semibold">
              Қайда
            </label>
            <select
              name="to"
              id="to"
              className="w-full appearance-none bg-neutral-200/60 px-3 h-12 border border-neutral-900 rounded-md focus:outline-none focus:bg-neutral-100"
              value={selectedToStation}
              onChange={handleToChange}
            >
              <option value="">Select Location</option>
              {filteredToOptions.map((station) => (
                <option key={station.id} value={station.id}>
                  {station.station_name}
                </option>
              ))}
            </select>
          </div>

          {/* DATE */}
          <div>
            <label htmlFor="date" className="block mb-2 font-semibold">
              Күні
            </label>
            <input
              type="date"
              name="date"
              id="date"
              value={selectedDate}
              onChange={handleDateChange}
              className="w-full appearance-none bg-neutral-200/60 px-3 h-12 border border-neutral-900 rounded-md focus:outline-none focus:bg-neutral-100"
            />
          </div>

          {/* TIME (опционально) */}
          <div>
            <label htmlFor="time" className="block mb-2 font-semibold">
              Класс
            </label>
            <select
              name="class"
              id="class"
              className="w-full appearance-none bg-neutral-200/60 px-3 h-12 border border-neutral-900 rounded-md focus:outline-none focus:bg-neutral-100"
              value={classes}
              onChange={handleClassChange}
            >
              <option value="">Класс</option>
              {ClassOptions.map((e) => (
                <option key={e.id} value={e.id}>
                  {e.name}
                </option>
              ))}
            </select>
            {/*<input
              type="time"
              name="time"
              id="time"
              value={selectedTime}
              onChange={handleTimeChange}
              className="w-full appearance-none bg-neutral-200/60 px-3 h-12 border border-neutral-900 rounded-md focus:outline-none focus:bg-neutral-100"
            />*/}
          </div>

          {/* Кнопка поиска */}
          <div>
            <button
              className="w-full px-4 h-12 bg-violet-600 text-white rounded-md hover:bg-violet-700"
              onClick={search}
            >
              Іздеу
            </button>
          </div>
        </div>
      </div>

      {/* Список результатов */}
      <div className="mt-10">
        {noBusesFound ? (
          <p className="text-center text-red-500 text-lg">No buses found</p>
        ) : (
          // Вот здесь стилизуем карточки автобусов красиво
          <div className="space-y-4">
            {buses.map((bus) => (
              <div
                key={bus.id}
                className="bg-white rounded-lg shadow-md p-4 flex items-center justify-between"
              >
                {/* Левая часть карточки (Информация об автобусе) */}
                <div>
                  <h2 className="font-semibold text-base mb-1">
                    {bus.busNo} | {bus.from} → {bus.to}
                  </h2>
                  {/* Если нужно время */}
                  <p className="text-sm text-gray-500">
                    {bus.startTime} — {bus.endTime}
                  </p>
                  {/* Стоимость и кол-во мест */}
                  <p className="text-sm mt-2">
                    Cost: {bus.cost} / per seat
                  </p>
                  <p className="text-sm text-green-600">
                    {bus.availableSeats} seats available
                  </p>
                </div>

                {/* Кнопка "Reserve Seat" */}
                <button
                  className="bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 rounded text-sm"
                  onClick={() => handleBookNow(bus.id)}
                >
                  Reserve Seat
                </button>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );
};

export default Search;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\searchform\SearchForm.css ====
/* Add this CSS to your existing CSS file or create a new one */

.container {
  max-width: 960px; /* Adjust container max-width as needed */
  margin: auto; /* Center the container */
}

.row {
  margin-bottom: 15px; /* Add margin between rows */
}

.col-md-4 {
  padding-right: 15px; /* Add right padding to columns */
  padding-left: 15px; /* Add left padding to columns */
}

.form-control {
  width: 100%; /* Make the input fields fill the entire column width */
}







==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\searchform\SearchForm.jsx ====
import { useState, useEffect } from "react";
import Select from "react-select";
import { axiosInst } from "../../service/axiosInstance";
import Calendar from "react-calendar";
import "react-calendar/dist/Calendar.css";
import "bootstrap/dist/css/bootstrap.min.css";
import { ToastContainer, toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";
import CardCarousel from "../cardCarousel/CardCarousel";
import BusDetailsCard from "../busCard/BusDetailsCard";
import {useNavigate} from "react-router-dom"

function SearchForm() {
  const [stationList, setStationList] = useState([]);
  const [selectedFromStation, setSelectedFromStation] = useState(null);
  const [selectedToStation, setSelectedToStation] = useState(null);
  const [selectedDate, setSelectedDate] = useState(
    new Date(new Date().setHours(0, 0, 0, 0))
  );
  const [showCalendar, setShowCalendar] = useState(false);
  const [bus,setBuses]=useState([]);  
  const [noBusesFound, setNoBusesFound] = useState(false);
  const navigate=useNavigate()

  const handleDateChange = (date) => {
    setSelectedDate(date);
    setShowCalendar(false);
  };

  const toggleCalendar = () => {
    setShowCalendar(!showCalendar);
  };

  useEffect(() => {
    fetchStationList();
  }, []);

  const fetchStationList = () => {
    axiosInst
      .get("/station/getstations")
      .then((response) => {
        setStationList(response.data);
      })
      .catch((error) => {
        console.error("Error fetching stations:", error);
      });
  };

  const handleFromChange = (selectedOption) => {
    setSelectedFromStation(selectedOption);
    setFilteredToOptions(
      stationList.filter((station) => station.id !== selectedOption.value)
    );
  };

  const handleToChange = (selectedOption) => {
    setSelectedToStation(selectedOption);
  };

  const [filteredToOptions, setFilteredToOptions] = useState(stationList);

  const search = () => {
    const requestBody = {
      from: selectedFromStation.value,
      to: selectedToStation.value,
      date: selectedDate.toLocaleDateString("en-CA"),
    };

    axiosInst
      .post("/bus/getbuses", requestBody)
      .then((response) => {
        console.log("Buses:", response.data);
        setBuses(response.data);
        if (response.data.length === 0) {
          setNoBusesFound(true);
          toast.warning(
            "Oops! Bus Not found for Date or Route"
          );
        } else {
          setNoBusesFound(false);
        }

      })
      .catch((error) => {
        console.error("Error fetching buses:", error);
      });
  };
  
  const handleBookNow=(id)=>{
  navigate(`/buslayout/${id}`)
 
  }
  useEffect(()=>{
 console.log(bus);
  },[bus])

  return (
    <div className="container mt-5">
      <div>
        <div className="row" style={{ paddingTop: "60px" }}>
          <div className="col-md-4">
            <label htmlFor="from">
              <b>From:</b>
            </label>
            <Select
              value={selectedFromStation}
              onChange={handleFromChange}
              options={stationList.map((station) => ({
                value: station.id,
                label: station.station_name,
              }))}
              placeholder="Search or Select..."
              isSearchable={true}
            />
          </div>

          <div className="col-md-4">
            <label htmlFor="to">
              <b>To:</b>
            </label>
            <Select
              value={selectedToStation}
              onChange={handleToChange}
              options={filteredToOptions.map((station) => ({
                value: station.id,
                label: station.station_name,
              }))}
              placeholder="Search or Select..."
              isSearchable={true}
            />
          </div>

          <div className="col-md-4">
            <label htmlFor="date">
              <b>Date:</b>
            </label>
            <br />
            <div style={{ position: "relative" }}>
              <input
                className="form-control"
                type="text"
                value={selectedDate.toLocaleDateString("en-CA")}
                onClick={toggleCalendar}
                readOnly
              />
              {showCalendar && (
                <div
                  style={{
                    position: "absolute",
                    top: "100%",
                    left: 0,
                    zIndex: 999,
                    backgroundColor: "#fff",
                    boxShadow: "0 0 5px rgba(0, 0, 0, 0.1)",
                  }}
                >
                  <Calendar
                    onChange={handleDateChange}
                    value={selectedDate}
                    minDate={new Date()}
                  />
                </div>
              )}
            </div>
          </div>
        </div>

        <div className="row justify-content-center mt-3">
          <div className="col-md-8 text-center">
            <button
              type="button"
              className="btn btn-primary btn-lg"
              onClick={search}
            >
              Search
            </button>
            {noBusesFound && <p>Oops! We do not have any bus scheduled for given stations on that date</p>}
            {bus.map(bus => (
                <BusDetailsCard
                    key={bus.id}
                    busNo={bus.busNo}
                    from={bus.from}
                    to={bus.to}
                    startTime={bus.startTime}
                    endTime={bus.endTime}
                    duration={bus.duration}
                    fare={bus.cost}
                    handleBookNow={() => handleBookNow(bus.id)}
                />
            ))}
            <div className="container mt-5">
      <ToastContainer />
    </div>
          </div>
        </div>
</div>

        <CardCarousel />
 
      
    </div>
  );
}

export default SearchForm;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\theme\Theme.jsx ====
import React, { useState, useEffect } from 'react'
import { FaMoon, FaSun } from 'react-icons/fa6';

const Theme = () => {
  const [theme, setTheme] = useState(localStorage.getItem('theme') || 'light');

  useEffect(() => {
    if (theme === 'dark') {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
    localStorage.setItem('theme', theme);
  }, [theme]);

  const toggleTheme = () => {
    setTheme(theme === 'dark' ? 'light' : 'dark');
  }

  return (
    <button 
      onClick={toggleTheme}
      className='dark:text-neutral-100 text-neutral-800 text-lg w-10 h-10 rounded-full bg-neutral-200 dark:bg-neutral-800/80 flex items-center justify-center'
    >
      {theme === 'dark' ? <FaMoon/> : <FaSun/>}
    </button>
  )
}

export default Theme



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\ticket\Ticket.jsx ====
// import { useState } from 'react';
// import jsPDF from 'jspdf';
// import PropTypes from 'prop-types';


// function Ticket({ bookingId }) {
//   const [ticketData, setTicketData] = useState(null);
//   const [pdfContent, setPdfContent] = useState('');

//   // Function to fetch ticket data from the backend
//   const fetchTicketData = async () => {
//     try {
//       const response = await fetch(`/api/tickets/${bookingId}`);
//       const data = await response.json();
//       setTicketData(data);
//     } catch (error) {
//       console.error('Error fetching ticket data:', error);
//     }
//   };

//   // Function to generate PDF ticket
//   const generatePDF = () => {
//     if (!ticketData) return;

//     // Generate HTML content for the ticket
//     const ticketContent = `
//       <h1>Ticket Details</h1>
//       <p>Name: ${ticketData.passengerName}</p>
//       <p>Seat Number: ${ticketData.seatNumber}</p>
//       <p>Departure Time: ${ticketData.departureTime}</p>
//       <!-- Add more ticket details here -->
//     `;

//     // Create PDF document
//     const pdf = new jsPDF();
//     pdf.text(ticketContent, 10, 10); // Add HTML content to PDF

//     // Save PDF content
//     setPdfContent(pdf.output('datauristring'));
//   };

//   return (
//     <div>
//       <button onClick={fetchTicketData}>Fetch Ticket Data</button>
//       {ticketData && (
//         <>
//           <h2>Ticket Details</h2>
//           <p>Name: {ticketData.passengerName}</p>
//           <p>Seat Number: {ticketData.seatNumber}</p>
//           <p>Departure Time: {ticketData.departureTime}</p>
//           {/* Add more ticket details here */}
//           <button onClick={generatePDF}>Generate PDF Ticket</button>
//         </>
//       )}
//       {pdfContent && (
//         <div>
//           <h2>Your Ticket</h2>
//           <embed src={pdfContent} type="application/pdf" width="600" height="400" />
//           <a href={pdfContent} download="ticket.pdf">Download Ticket</a>
//         </div>
//       )}
//     </div>
//   );
// }


// Ticket.prototype = {
//     bookingId: PropTypes.string.isRequired
// };

// export default Ticket;

// import { useEffect, useState } from 'react';
// import jsPDF from 'jspdf';
// import PropTypes from 'prop-types';
// import { axiosInst } from '../../service/axiosInstance';
// import { useParams } from 'react-router-dom';
// // import "./Ticket.css";

// function Ticket({ bookingId }) {
//   const [ticketData, setTicketData] = useState(null);
//   const [pdfContent, setPdfContent] = useState('');

//   // Function to fetch ticket data from the backend
//   const fetchTicketData = async () => {
//     try {
//       const response = await axiosInst.get(`/bookings/getbooking/${bookingId}`);
//       const data = response.data;
//       console.log(data);
//       setTicketData(data);
//     } catch (error) {
//       console.error('Error fetching ticket data:', error);
//     }
//   };

//   useEffect(() => {
//     console.log(bookingId, ".............");
//     fetchTicketData();
//   }, [bookingId]);

//   // Function to generate PDF ticket
//   const generatePDF = () => {
//     if (!ticketData) return;

//     // Generate HTML content for the ticket
//     let passengerContent = '';
//     ticketData.seatPassengerList.forEach((passenger, index) => {
//       passengerContent += `
//         <p>Passenger ${index + 1}:</p>
//         <p>Name: ${passenger.passenger.firstName} ${passenger.passenger.lastName}</p>
//         <p>Age: ${passenger.passenger.age}</p>
//         <p>Gender: ${passenger.passenger.gender}</p>
//         <hr/>
//       `;
//     });

//     // Generate full ticket content
//     const ticketContent = `
//       <h1>Ticket Details</h1>
//       <p>Bus No: ${ticketData.busNo}</p>
//       <p>From: ${ticketData.from}</p>
//       <p>To: ${ticketData.to}</p>
//       <p>Booking Date: ${ticketData.bookingDateTime}</p>
//       <p>Total Fare: ${ticketData.totalFare}</p>
//       <h2>Passengers</h2>
//       ${passengerContent}
//     `;

//     // Create PDF document
//     const doc = new jsPDF();
//     doc.html(ticketContent, {
//       callback: function (pdf) {
//         pdf.save("ticket.pdf");
//         setPdfContent(pdf.output('datauristring'));
//       }
//     });
//   };

//   return (
//     <div className="ticket-container">
//       <button onClick={fetchTicketData}>Fetch Ticket Data</button>
//       {ticketData && (
//         <>
//           <div className="ticket-details">
//             <h2>Ticket Details</h2>
//             <p>Bus No: {ticketData.busNo}</p>
//             <p>From: {ticketData.from}</p>
//             <p>To: {ticketData.to}</p>
//             <p>Booking Date: {ticketData.bookingDateTime}</p>
//             <p>Total Fare: {ticketData.totalFare}</p>
//           </div>
//           <div className="passenger-details">
//             <h2>Passengers</h2>
//             <ul>
//               {ticketData.seatPassengerList.map((passenger, index) => (
//                 <li key={index}>
//                   <p>Name: {passenger.passenger.firstName} {passenger.passenger.lastName}</p>
//                   <p>Age: {passenger.passenger.age}</p>
//                   <p>Gender: {passenger.passenger.gender}</p>
//                 </li>
//               ))}
//             </ul>
//           </div>
//           <button onClick={generatePDF}>Generate PDF Ticket</button>
//         </>
//       )}
//       {pdfContent && (
//         <div className="pdf-container">
//           <h2>Your Ticket</h2>
//           <embed className="pdf-embed" src={pdfContent} type="application/pdf" width="600" height="400" />
//           <a className="download-link" href={pdfContent} download="ticket.pdf">Download Ticket</a>
//         </div>
//       )}
//     </div>
//   );
// }

// Ticket.propTypes = {
//   bookingId: PropTypes.string.isRequired
// };

// export default Ticket;


import { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
// import './MyBookings.css';
import { axiosInst } from '../../service/axiosInstance';
import jsPDF from 'jspdf';
import html2canvas from 'html2canvas';

function Ticket() {
  // const history = useHistory();
  const navigate = useNavigate();
  const [data, setData] = useState([]);
  const { id } = useParams();

  const fetchBookings = async () => {
    try {
      const res = await axiosInst.get(`/bookings/getbooking/${id}`, {
        headers: {
          Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
        },
      });
      setData(res.data);
    } catch (error) {
      console.log(error);
    }
  };

  useEffect(() => {
    fetchBookings();
  }, []);

  const formatDateTime = (dateTimeString) => {
    const date = new Date(dateTimeString);
    const day = date.getDate().toString().padStart(2, '0');
    const month = (date.getMonth() + 1).toString().padStart(2, '0');
    const hours = date.getHours().toString().padStart(2, '0');
    const minutes = date.getMinutes().toString().padStart(2, '0');
    return `${day}/${month} ${hours}:${minutes}`;
  };

  const formatDate = (dateString) => {
    const dateObj = new Date(dateString);
    const year = dateObj.getFullYear();
    const month = String(dateObj.getMonth() + 1).padStart(2, '0'); // Month starts from 0
    const day = String(dateObj.getDate()).padStart(2, '0');

    return `${year}-${month}-${day}`;
  };

  const downloadTicket = () => {
    const filename = 'ticket.pdf';

    html2canvas(document.getElementById('ticket-container')).then(function (canvas) {
      let pdf = new jsPDF('p', 'mm', 'a4');
      pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, 211, 298);
      pdf.save(filename);
    });
  };

  return (
    <div className="login_container">
      <div className="login_form_container">
        <div className="left">
          <div className="form_container">
            <h1>Менің брондарым</h1>
            <div id="ticket-container">
              <table className="map_table">
                <thead>
                  <tr>
                    <th>Автобус нөмірі</th>
                    <th>Қайдан</th>
                    <th>Қайда</th>
                    <th>Брондау күні</th>
                    <th>Тариф</th>
                    <th>Әрекеттер</th>
                  </tr>
                </thead>
                <tbody>
                  {data.map(location => (
                    <tr key={location.id}>
                      <td>{location.busNo}</td>
                      <td>{location.from} at {formatDateTime(location.startTime)}</td>
                      <td>{location.to} at {formatDateTime(location.endTime)}</td>
                      <td>{formatDate(location.bookingDateTime)}</td>
                      <td>{location.totalFare}</td>
                      <td>
                        <button onClick={downloadTicket}>Download Ticket</button>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default Ticket;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\components\ticket\Tickets.jsx ====



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\changepass\ChangePassword.jsx ====
import  { useEffect, useState } from 'react';
import styles from './styles.module.css'; // Import your CSS file
import { axiosInst } from '../../service/axiosInstance';
import { ToastContainer, toast } from 'react-toastify';

const ChangePassword = () => {
  const [oldPassword, setOldPassword] = useState('');
  const [newPassword, setNewPassword] = useState('');
  const [confirmNewPassword, setConfirmNewPassword] = useState('');
  const [message, setMessage] = useState('');
  const id = localStorage.getItem('id');
  //const history = useHistory();
  const jwtToken=localStorage.getItem("jwtToken");

  const handleOldPasswordChange = (e) => {
    setOldPassword(e.target.value);
  };

  const handleNewPasswordChange = (e) => {
    setNewPassword(e.target.value);
  };

  const handleConfirmNewPasswordChange = (e) => {
    setConfirmNewPassword(e.target.value);
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (newPassword !== confirmNewPassword) {
      toast.warn('Passwords do not match.');
      return;
    }

    try {
      
      const response = await axiosInst.post('/user/change-password', {
        id,
        oldPassword,
        newPassword,
      },{
        headers: {
          Authorization: `Bearer ${jwtToken}`,
        },
      }
      );

      if (response.data.success) {
        toast.success('Password changed successfully.');
        // Redirect to login or another page
        // history.push('/login');
      } else {
        setMessage(response.data.message);
      }
    } catch (error) {
      console.error('Error:', error);
      toast.error('An error occurred while processing your request.');
    }
  };


  useEffect(() => {
    // Check if jwtToken exists in localStorage
    const jwtToken = localStorage.getItem("jwtToken");
    if (!jwtToken) {
      // Redirect user to the main page
      window.location = "/login";
    }
  }, []);



  return (
    <div className={styles.change_password_container}>
      <div className={styles.change_password_form_container}>
        <div className={styles.change_password_left}>
          <h1>Welcome Back</h1>
        </div>
        <div className={styles.change_password_right}>
          <form onSubmit={handleSubmit} className={styles.form_container}>
            
            <h1>Change Password</h1>
            <label>Old Password:</label>
            <input
              type="password"
              value={oldPassword}
              onChange={handleOldPasswordChange}
              required
              className={styles.change_password_input}
            />
            <label>New Password:</label>
            <input
              type="password"
              value={newPassword}
              onChange={handleNewPasswordChange}
              required
              className={styles.change_password_input}
              />
            <label>Confirm New Password:</label>
            <input
              type="password"
              value={confirmNewPassword}
              onChange={handleConfirmNewPasswordChange}
              required
              className={styles.change_password_input}
              />
            {message && <div className={styles.change_password_error_msg}>{message}</div>}
            <button type="submit" className={styles.change_password_green_btn}>
              Change Password
            </button>
          </form>
          
        </div>
      </div>
      <ToastContainer/>
    </div>
  );
};

export default ChangePassword;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\changepass\styles.module.css ====
/* Add these styles for the ChangePassword component */

.change_password_container {
    width: 100%;
    padding: 160px 0;
    min-height: 100vh;
    background-color: #f5f5f5;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .change_password_form_container {
    width: 900px;
    height: 400px; /* Adjust the height based on your design */
    display: flex;
    border-radius: 10px;
    box-shadow: 0px 3px 3px -2px rgb(0 0 0 / 20%),
      0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%);
  }
  
  .change_password_left {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #3bb19b;
    border-top-left-radius: 10px;
    border-bottom-left-radius: 10px;
  }
  
  .change_password_left h1 {
    margin-top: 0;
    color: white;
    font-size: 35px;
    align-self: center;
  }
  
  .change_password_right {
    flex: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: white;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
  }
  
  .change_password_form_container form {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .change_password_form_container form h1 {
    font-size: 40px;
    margin-top: 0;
  }
  
  .change_password_input {
    outline: none;
    border: none;
    width: 370px;
    padding: 15px;
    border-radius: 10px;
    background-color: #edf5f3;
    margin: 5px 0;
    font-size: 14px;
  }
  
  .change_password_error_msg {
    width: 370px;
    padding: 15px;
    margin: 5px 0;
    font-size: 14px;
    background-color: #f34646;
    color: white;
    border-radius: 5px;
    text-align: center;
  }
  
  .change_password_green_btn {
    border: none;
    outline: none;
    padding: 12px 0;
    background-color: #3bb19b;
    border-radius: 20px;
    width: 180px;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    color: white;
    margin: 10px;
  }
  


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\forgotpass\forgotpass.css ====
.forgot_password_container {
  width: 100%;
  padding: 160px 0;
  min-height: 100vh;
  background-color: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
}

.forgot_password_form_container {
  width: 900px;
  height: 400px; /* Adjust the height based on your design */
  display: flex;
  border-radius: 10px;
  box-shadow: 0px 3px 3px -2px rgb(0 0 0 / 20%),
    0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%);
}

.forgot_password_left {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: #3bb19b;
  border-top-left-radius: 10px;
  border-bottom-left-radius: 10px;
}

.forgot_password_left h1 {
  margin-top: 0;
  color: white;
  font-size: 35px;
  align-self: center;
}

.forgot_password_right {
  flex: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: white;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
}

.forgot_password_form_container form {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.forgot_password_form_container form h1 {
  font-size: 40px;
  margin-top: 0;
}

.forgot_password_input {
  outline: none;
  border: none;
  width: 370px;
  padding: 15px;
  border-radius: 10px;
  background-color: #edf5f3;
  margin: 5px 0;
  font-size: 14px;
}

.forgot_password_error_msg {
  width: 370px;
  padding: 15px;
  margin: 5px 0;
  font-size: 14px;
  background-color: #f34646;
  color: white;
  border-radius: 5px;
  text-align: center;
}

.forgot_password_green_btn {
  border: none;
  outline: none;
  padding: 12px 0;
  background-color: #3bb19b;
  border-radius: 20px;
  width: 180px;
  font-weight: bold;
  font-size: 14px;
  cursor: pointer;
  color: white;
  margin: 10px;
}



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\forgotpass\ForgotPassword.jsx ====
// Import necessary dependencies
import { useEffect, useState } from 'react';
// import { useHistory } from 'react-router-dom';
import  "./forgotpass.css";
import { toast, ToastContainer } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';
import { axiosInst } from "../../service/axiosInstance";
const ForgotPassword = () => {
  const [email, setEmail] = useState('');

//   const history = useHistory();

  const handleEmailChange = (e) => {
    setEmail(e.target.value);
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    
      try {
        const response = await axiosInst.post('/password-reset/request', { email });
        toast.success(response.data);
      } catch (error) {
        toast.error(error.response.data);
      }
    
  };

  useEffect(() => {
    // Check if jwtToken exists in localStorage
    const jwtToken = localStorage.getItem("jwtToken");
    if (jwtToken) {
      // Redirect user to the main page
      window.location = "/";
    }
  }, []);


  return (
    
<div className="forgot_password_container">
  <div className="forgot_password_form_container">
    <div className="forgot_password_left">
      <h1>Welcome Back</h1>
    </div>
    <div className="forgot_password_right">
      <form onSubmit={handleSubmit}>
        <h1>Forgot Password</h1>
        
        <input
          type="email"
          placeholder='Enter your Registered Email Address'
          value={email}
          onChange={handleEmailChange}
          required
          className="forgot_password_input"
        />
        <button type="submit" className="forgot_password_green_btn">
          Reset Password
        </button>
      </form>
      
      <p>
        Remember your password?{' '}
        <a href="/login">Login</a>
      </p>
    </div>
  </div>
  <ToastContainer/>
</div>

  );
};

export default ForgotPassword;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\home\Home.css ====



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\home\Home.jsx ====
import React from "react";
import Hero from "./hero/Hero";
import Search from "../../components/searchform/Search";
import Category from "./category/Category";
import Offer from "./offer/Offer";
import Footer from "../../components/footer/Footer";
const Home = () => {
  return (
    <>
      <Hero />
      <Search />
      <Footer/>
    </>
  );
};

export default Home;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\home\category\Category.jsx ====
import React from "react";
import { Link } from "react-router-dom";
import Bus1 from "../../../assets/images/bus1.png";
import Bus2 from "../../../assets/images/bus4.png";
import Bus3 from "../../../assets/images/bus8.png";

const Category = () => {
  return (
    <div className="w-full lg:px-28 md:px-16 sm:px-7 px-4 my-[8ch]">
      <div className="w-full items-center flex justify-between">
        <h1 className="text-2xl font-medium mb-6">Category</h1>
        <Link to={"/bus"} className="text-violet-600">
          View All
        </Link>
      </div>
      <div className="grid grid-cols-3 gap-6">
        <Link
          to={"/bus"}
          className="bg-neutral-200/60 dark:bg-neutral-900/40 block rounded-xl px-4 py-5 relative group ease-in-out duration-300 overflow-hidden:"
        >
          <img
            src={Bus1}
            alt="bus img"
            className="w-full aspect-video object-contain"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-tr dark:from-neutral-950/80 dark:to-neutral-950/60 from-neutral-400/80 to-neutral-400/60 group-hover:flex hidden items-center justify-center ease-in-out duration-300">
            <h2 className="text-2xl font-bold text-center text-neutral-900 dark:text-neutral-50">
              Private Bus
            </h2>
          </div>
        </Link>

        <Link
          to={"/bus"}
          className="bg-neutral-200/60 dark:bg-neutral-900/40 block rounded-xl px-4 py-5 relative group ease-in-out duration-300 overflow-hidden:"
        >
          <img
            src={Bus2}
            alt="bus img"
            className="w-full aspect-video object-contain"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-tr dark:from-neutral-950/80 dark:to-neutral-950/60 from-neutral-400/80 to-neutral-400/60 group-hover:flex hidden items-center justify-center ease-in-out duration-300">
            <h2 className="text-2xl font-bold text-center text-neutral-900 dark:text-neutral-50">
              Tourist Bus
            </h2>
          </div>
        </Link>

        <Link
          to={"/bus"}
          className="bg-neutral-200/60 dark:bg-neutral-900/40 block rounded-xl px-4 py-5 relative group ease-in-out duration-300 overflow-hidden:"
        >
          <img
            src={Bus3}
            alt="bus img"
            className="w-full aspect-video object-contain"
          />
          <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-tr dark:from-neutral-950/80 dark:to-neutral-950/60 from-neutral-400/80 to-neutral-400/60 group-hover:flex hidden items-center justify-center ease-in-out duration-300">
            <h2 className="text-2xl font-bold text-center text-neutral-900 dark:text-neutral-50">
              Government Bus
            </h2>
          </div>
        </Link>
      </div>
    </div>
  );
};

export default Category;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\home\hero\Hero.jsx ====
import { animate, delay, motion } from "framer-motion";
import React from "react";
import Bus2 from "../../../assets/images/bus5.png";

const Hero = () => {
  const imageVariants = {
    initial: {
      x: "100%",
    },
    animate: {
      x: "3%",
      transition: {
        duration: 3,
        ease: "easeInOut",
      },
    },
  };
  return (
    <div className="w-full h-[calc(100vh-8ch)] lg:ps-28 md:ps-16 sm:ps-7 ps-4 mt-[8ch] flex items-center justify-center flex-col hero relative">
      <div className="flex-1 w-full flex items-stretch justify-between gap-12 pb-10">
        <motion.dev
          className="w-[35%] h-auto rounded-md flex justify-center flex-col space-y-14"
          initial={{ opacity: 0, y: -10 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5, ease: "linear", delay: 0.2 }}
        >
          {" "}
          <motion.dev
            className="space-y-5"
            initial={{ opacity: 0, y: -10 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 1, ease: "linear", delay: 0.2 }}
          >
            <motion.h1
              className="text-7xl font-bold text-neutral-50 leading-[1.15]"
              initial={{ opacity: 0, y: -10 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 2, ease: "linear", delay: 0.4 }}
            >
              Автобус билеттеріңізді дәл 
              <span className="text-violet-400 tracking-wider"> қазір </span>
               брондаңыз
            </motion.h1>

            <motion.p
              className="text-lg font-normal text-neutral-300 line-clamp-3 text-ellipsis"
              initial={{ opacity: 0, y: -10 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 2, ease: "linear", delay: 0.6 }}
            >
              Бар болғаны бірнеше рет басып, қажетті бағытыңыз бен уақытты 
              таңдаңыз — сіздің сапарыңыз бұрын-соңды болмағандай оңай болмақ.
            </motion.p>
          </motion.dev>
          
        </motion.dev>

        <div className="w-[70%] h-full rounded-md flex items-end justify-end absolute top-0 -right-48">
          <motion.img
            className="w-full aspect-[4/2] object-contain"
            src={Bus2}
            alt="bus img"
            initial="initial"
            animate="animate"
            variants={imageVariants}
          />
        </div>
      </div>
    </div>
  );
};

export default Hero;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\home\offer\Offer.jsx ====
import React, { useState } from "react";
import { Link } from "react-router-dom";
import Save from "../../../assets/images/save.png";
import { FaCopy } from "react-icons/fa6";

const Offer = () => {
  const [copied, setCopied] = useState(false);

  const handleCopy = () => {
    navigator.clipboard
      .writeText("İLAHİKODCU66")
      .then(() => {
        setCopied(true);
        setTimeout(() => {
          setCopied(true);
        }, 2000);
      })
      .catch((err) => {
        console.log("Failed to copy ", Error);
      });
  };

  return (
    <div className="w-full lg:px-28 md:px-16 sm:px-7 px-4 my-[8ch]">
      <div className="w-full items-center flex justify-between">
        <h1 className="text-2xl font-medium mb-6">Special Offer</h1>
        <Link to={"/offer"} className="text-violet-600">
          View All
        </Link>
      </div>

      <div className="grid grid-cols-2 gap-16">
        <div className="w-full h-auto rounded-xl bg-zinc-200/30 dark:bg-zinc-800/20 p-8 flex items-center gap-x-3 shadow-md">
          <img
            src={Save}
            className="w-52 aspect-[2/1] object-contain origin-center"
            alt="save img"
          />
          <div className="flex flex-1 flex-col space-y-5">
            <h1 className="text-xl font-semibold text-neutral-800 dark:to-neutral-50">
              Get 45% on your first booking
            </h1>

            <div className="flex items-center gap-x-5">
              <div className="w-fit border border-dashed px-4 py-1 border-neutral-300 dark:border-neutral-800 bg-violet-500/10 dark:bg-violet-800/5 rounded-md p-3">
                {copied ? (
                  <span className="text-green-600">Copied</span>
                ) : (
                  <span className="text-violet-600">İLAHİKODCU66</span>
                )}
              </div>
              <button onClick={handleCopy} className="text-xl text-violet-600">
                <FaCopy size={20} />
              </button>
            </div>

            <p className="text-sm text-neutral-400 dark:text-neutral-600 font-normal">
              Valid till: <span className="text-sm font-medium">26th June</span>
            </p>
          </div>
        </div>
        <div className="w-full h-auto rounded-xl bg-zinc-200/30 dark:bg-zinc-800/20 p-8 flex items-center gap-x-3 shadow-md">
          <img
            src={Save}
            className="w-52 aspect-[2/1] object-contain origin-center"
            alt="save img"
          />
          <div className="flex flex-1 flex-col space-y-5">
            <h1 className="text-xl font-semibold text-neutral-800 dark:to-neutral-50">
              Get 45% on your first booking
            </h1>

            <div className="flex items-center gap-x-5">
              <div className="w-fit border border-dashed px-4 py-1 border-neutral-300 dark:border-neutral-800 bg-violet-500/10 dark:bg-violet-800/5 rounded-md p-3">
                {copied ? (
                  <span className="text-green-600">Copied</span>
                ) : (
                  <span className="text-violet-600">İLAHİKODCU66</span>
                )}
              </div>
              <button onClick={handleCopy} className="text-xl text-violet-600">
                <FaCopy size={20} />
              </button>
            </div>

            <p className="text-sm text-neutral-400 dark:text-neutral-600 font-normal">
              Valid till: <span className="text-sm font-medium">26th June</span>
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Offer;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\login\Login.jsx ====
// import { useState } from "react";
// import { Link } from "react-router-dom";
// import styles from "./styles.module.css";
// import {axiosInst} from "../../service/axiosInstance";
// import { ToastContainer, toast } from "react-toastify";

// const Login = () => {
//   const [data, setData] = useState({ email: "", password: "" });
//   const [error, setError] = useState("");

//   const handleChange = ({ currentTarget: input }) => {
//     setData({ ...data, [input.name]: input.value });
//   };

// 	const handleSubmit = async (e) => {
// 		e.preventDefault();
// 		try {
// 			const res=await axiosInst.post('/user/signin',data)
//       console.log(res.data);
// 			localStorage.setItem("jwtToken", res.data.jwt);	
//       localStorage.setItem("id", res.data.id);	
      
// 			window.location = "/";
// 		} catch (error) {
// 			if (
// 				error.response &&
// 				error.response.status >= 400 &&
// 				error.response.status <= 500
// 			) {
// 				setError(error.response.data.message);
// 			}
//       toast.warning(
//         "Oops! Could not login, Please re-check the id and password"
//       );
// 		}
// 	};
 
//   return (
//     <>
//     <ToastContainer />
//       <div className={styles.login_container}>
//         <div className={styles.login_form_container}>
//           <div className={styles.left}>
//             <form className={styles.form_container} onSubmit={handleSubmit}>
//               <h1>Login to Your Account</h1>
//               <input
//                 type="email"
//                 placeholder="Email"
//                 name="email"
//                 onChange={handleChange}
//                 value={data.email}
//                 required
//                 className={styles.input}
//               />
//               <input
//                 type="password"
//                 placeholder="Password"
//                 name="password"
//                 onChange={handleChange}
//                 value={data.password}
//                 required
//                 className={styles.input}
//               />
//               {error && <div className={styles.error_msg}>{error}</div>}
//               <button type="submit" className={styles.green_btn}>
//                 Sign In
//               </button>
//               <Link to="/forgot-password">Forgot Password?</Link>
             
//             </form>
//           </div>
//           <div className={styles.right}>
//             <h1>New Here ?</h1>
//             <Link to="/signup">
//               <button type="button" className={styles.white_btn}>
//                 Sign Up
//               </button>
//             </Link>
//           </div>
//         </div>
//       </div>
//     </>
//   );
// };

// export default Login;

import { useState, useEffect } from "react";
import { Link } from "react-router-dom";
import styles from "./styles.module.css";
import { axiosInst } from "../../service/axiosInstance";
import { ToastContainer, toast } from "react-toastify";

const Login = () => {
  const [data, setData] = useState({ email: "", password: "" });
  const [error, setError] = useState("");

  useEffect(() => {
    // Check if jwtToken exists in localStorage
    const jwtToken = localStorage.getItem("jwtToken");
    if (jwtToken) {
      // Redirect user to the main page
      window.location = "/";
    }
  }, []);

  const handleChange = ({ currentTarget: input }) => {
    setData({ ...data, [input.name]: input.value });
  };

	const handleSubmit = async (e) => {
		e.preventDefault();
		try {
			const res=await axiosInst.post('/user/signin',data)
      console.log(res.data);
			localStorage.setItem("jwtToken", res.data.jwt);	
      localStorage.setItem("id", res.data.id);	
      
			window.location = "/";
		} catch (error) {
			if (
				error.response &&
				error.response.status >= 400 &&
				error.response.status <= 500
			) {
				setError(error.response.data.message);
			}
      toast.warning(
        "Oops! Could not login, Please re-check the id and password"
      );
		}
	};
 
  return (
    <>
    <ToastContainer />
      <div className={styles.login_container}>
        <div className={styles.login_form_container}>
          <div className={styles.left}>
            <form className={styles.form_container} onSubmit={handleSubmit}>
              <h1>Login to Your Account</h1>
              <input
                type="email"
                placeholder="Email"
                name="email"
                onChange={handleChange}
                value={data.email}
                required
                className={styles.input}
              />
              <input
                type="password"
                placeholder="Password"
                name="password"
                onChange={handleChange}
                value={data.password}
                required
                className={styles.input}
              />
              {error && <div className={styles.error_msg}>{error}</div>}
              <button type="submit" className={styles.green_btn}>
                Sign In
              </button>
              <Link to="/forgot-password">Forgot Password?</Link>
             
            </form>
          </div>
          <div className={styles.right}>
            <h1>New Here?</h1>
            <Link to="/signup">
              <button type="button" className={styles.white_btn}>
                Sign Up
              </button>
            </Link>
          </div>
        </div>
      </div>
    </>
  );
};

export default Login;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\login\styles.module.css ====
.login_container {
	padding: 160px 0;
	width: 100%;
	min-height: 100vh;
	background-color: #f5f5f5;
	display: flex;
	align-items: center;
	justify-content: center;
}

.login_form_container {
	width: 900px;
	height: 500px;
	display: flex;
	border-radius: 10px;
	box-shadow: 0px 3px 3px -2px rgb(0 0 0 / 20%),
		0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%);
}

.left {
	flex: 2;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	background-color: white;
	border-top-left-radius: 10px;
	border-bottom-left-radius: 10px;
}

.form_container {
	display: flex;
	flex-direction: column;
	align-items: center;
}

.form_container h1 {
	font-size: 40px;
	margin-top: 0;
}

.input {
	outline: none;
	border: none;
	width: 370px;
	padding: 15px;
	border-radius: 10px;
	background-color: #edf5f3;
	margin: 5px 0;
	font-size: 14px;
}

.error_msg {
	width: 370px;
	padding: 15px;
	margin: 5px 0;
	font-size: 14px;
	background-color: #f34646;
	color: white;
	border-radius: 5px;
	text-align: center;
}

.right {
	flex: 1;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	background-color: #3bb19b;
	border-top-right-radius: 10px;
	border-bottom-right-radius: 10px;
}

.right h1 {
	margin-top: 0;
	color: white;
	font-size: 40px;
	align-self: center;
}

.white_btn,
.green_btn {
	border: none;
	outline: none;
	padding: 12px 0;
	background-color: white;
	border-radius: 20px;
	width: 180px;
	font-weight: bold;
	font-size: 14px;
	cursor: pointer;
}

.green_btn {
	background-color: #3bb19b;
	color: white;
	margin: 10px;
}


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\mybookings\MyBookings.css ====
.login_container {
    display: flex;
    justify-content: center;
    align-items: center;
    /* height: 100vh; */
    padding: 100px 0;
    background-color: #f5f5f5;
  }
  
  .login_form_container {
    display: flex;
    max-width: 1200px;
    width: 100%;
    background-color: #f5f5f5;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
  }
  
  .left {
    flex: 1;
    padding: 20px;
  }
  
  .form_container {
    max-width: 900px;
    margin: 0 auto;
  }
  
  h1 {
    font-size: 24px;
    margin-bottom: 20px;
  }
  
  .map_table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid #3bb19b;
  }
  
  .map_table th,
  .map_table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }
  
  .map_table th {
    background-color: #f2f2f2;
    font-weight: bold;
  }
  
  .map_table tbody tr:hover {
    background-color: #f9f9f9;
  }
  
  .download{
    background-color: #3bb19b;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
  }


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\mybookings\MyBookings.jsx ====
import { useEffect, useState } from 'react';
import { useParams } from 'react-router-dom';
import "./MyBookings.css";
import { axiosInst } from '../../service/axiosInstance';
import { ToastContainer, toast } from 'react-toastify';
import QRCode from 'qrcode';
import jsPDF from 'jspdf';
import {autoTable} from 'jspdf-autotable';

function formatDateTime(dateTimeString) {
  const date = new Date(dateTimeString);
  const day = date.getDate().toString().padStart(2, '0');
  const month = (date.getMonth() + 1).toString().padStart(2, '0');
  const hours = date.getHours().toString().padStart(2, '0');
  const minutes = date.getMinutes().toString().padStart(2, '0');
  return `${day}/${month} ${hours}:${minutes}`;
}

function formatDate(dateString) {
  const dateObj = new Date(dateString);
  const year = dateObj.getFullYear();
  const month = String(dateObj.getMonth() + 1).padStart(2, '0'); // Month starts from 0
  const day = String(dateObj.getDate()).padStart(2, '0');

  return `${year}-${month}-${day}`;
}

function MyBookings() {
  const [data, setData] = useState([]);
  const { id } = useParams();

  useEffect(() => {
    const jwtToken = localStorage.getItem("jwtToken");
    const storedId = localStorage.getItem("id");

    if (!jwtToken) {
      window.location = "/login";
    } else if (id !== storedId) {
      window.location =`/bookings/${storedId}`;
    } else {
      fetchData();
    }
  }, []);

  const fetchData = async () => {
    try {
      const res = await axiosInst.get(`/bookings/getbookings/${id}`, {
        headers: {
          Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
        },
      });
      setData(res.data);
      console.log("comment",res.data);
    } catch (error) {
      console.log(error);
    }
  };



  const downloadTicket = async (ticketid) => {
    try {
      const response = await axiosInst.get(`/bookings/getbooking/${ticketid}`, {
          headers: {
              Authorization: `Bearer ${localStorage.getItem("jwtToken")}`,
          },
      });

      const ticketDetails = response.data;

      const doc = new jsPDF();
      const amiriFont = "AAEAAAASAQAA+FsASNsQIARLMFZAYAREQAAAAAAAEAAAAA";

      // Set font styles
      doc.addFileToVFS("Amiri-Regular.ttf", amiriFont);
      doc.addFont("Amiri-Regular.ttf", "Amiri", "normal");
      doc.setFont("Amiri");


      // Add background color
      doc.setFillColor('#ffffff');
      doc.rect(0, 0, doc.internal.pageSize.width, doc.internal.pageSize.height, 'F');
      doc.setFont("Amiri");
      doc.setFontSize(8);
      doc.text("This PDF is generated by Dimash Bus System 2024", 10, 10);

      const logoDataUrl =
      "data:image/png;base64,iVBORw0KGgoAAAAASUVORK5CYII=";
      // Add watermark
  
      // Add header with download date and site name
      const downloadDate = new Date().toLocaleDateString();
      const siteName = "https:localhost:3001/"; // Update with your site name
      doc.setFontSize(8);
      doc.text(
        `Site Name: ${siteName}  |  Download Date: ${downloadDate}`,
        100,
        10
      );
  
      doc.addImage(logoDataUrl, "PNG", 10, 15, 40, 40);
      // Title
      doc.setFont("Amiri");
      doc.setFontSize(24);
      doc.setTextColor('#333');
      doc.text("Dimash Bus", doc.internal.pageSize.width / 2, 30, 'center');

      // Border
      doc.setDrawColor('#333'); // Border color
      doc.setLineWidth(0.5); // Border width
      doc.rect(5, 15, doc.internal.pageSize.width - 10, doc.internal.pageSize.height-25); // Border rectangle with minimized margin


      // QR Code
      const qrText = `Booking ID: ${ticketid}\nBus No: ${ticketDetails.busNo}\nFrom: ${ticketDetails.from} at ${formatDateTime(ticketDetails.startTime)}\nBooking Date: ${formatDate(ticketDetails.bookingDateTime)}`;
      const canvas = document.createElement('canvas');
      await QRCode.toCanvas(canvas, qrText);
      const imageData = canvas.toDataURL('image/jpeg', 1.0);
      doc.addImage(imageData, 'JPEG', 150, 30, 50, 50);

      // Ticket Details
      doc.setFontSize(16);
      doc.setTextColor('#333');
      doc.text(`Ticket Details - Booking ID ${ticketid}`, 20, 70);
      doc.setFontSize(12);
      doc.text(`Bus No: ${ticketDetails.busNo}`, 20, 90);
      doc.text(`From: ${ticketDetails.from} at ${formatDateTime(ticketDetails.startTime)}`, 20, 105);
      doc.text(`To: ${ticketDetails.to} at ${formatDateTime(ticketDetails.endTime)}`, 20, 120);
      doc.text(`Booking Date: ${formatDate(ticketDetails.bookingDateTime)}`, 20, 135);
      const totalPassengers = ticketDetails.seatPassengerList.length;
      doc.text(`Total Passengers: ${totalPassengers}`, 20, 150);


      // passenger
      const startY = 170; // Initial position of the table
      const tableHeight = 20 + totalPassengers * 10; // Height of the table
      const endY = startY + tableHeight; // Final position of the table
      const overflow = endY > doc.internal.pageSize.height; // Check if the table overflows the page

      const passengerTable = [];
      ticketDetails.seatPassengerList.forEach((passenger, index) => {
          passengerTable.push([index + 1, passenger.seatNo, `${passenger.passenger.firstName} ${passenger.passenger.lastName}`, passenger.passenger.gender, passenger.passenger.age]);
      });

      if (!overflow) {
          autoTable(doc,{
              startY,
              head: [['#', 'Орын', 'Аты', 'Жыныс', 'Жасы']],
              body: passengerTable,
              margin: { top: 10 },
              styles: { font: "Amiri", fontStyle: 'normal', fontSize: 10 }
          });
      } else {
          // If table overflows, add it to a new page
          doc.addPage();
          autoTable(doc, {
              startY: 50,
              head: [['#', 'Орын', 'Аты', 'Жыныс', 'Жасы']],
              body: passengerTable,
              margin: { top: 10 },
              styles: { font: 'Amiri', fontStyle: 'normal', fontSize: 10 }
          });
      }

      // Terms and Conditions
      let termsY = overflow ? 50 : endY + 20; // Adjust terms position based on table overflow
      doc.setFontSize(10);
      doc.setTextColor('#666');
      const termsAndConditions = `Terms and Conditions:
1. Please arrive at the boarding point 30 minutes before departure time.
2. No refunds or cancellations are allowed after booking.
3. Passengers are responsible for their belongings during the journey.`;
      doc.text(termsAndConditions, 20, termsY);

      // Save PDF
      doc.save(`Dimash_Bus_${ticketid}_.pdf`);
    } catch (error) {
        console.error("Error downloading ticket:", error);
        toast.error("Something Went Wrong!, Please try again")
    }
};

  
  

  return (
    <div className="login_container">
      <ToastContainer/>
      <div className="login_form_container">
        <div className="left">
          <div className="form_container">
            <h1>Менің брондарым</h1>
            <table className="map_table">
              <thead>
                <tr>
                  <th>Автобус нөмірі</th>
                  <th>Қайдан</th>
                  <th>Қайда</th>
                  <th>Брондау күні</th>
                  <th>Тариф</th>
                  <th>Билет жүктеу</th>
                </tr>
              </thead>
              <tbody>
                {data.slice().reverse().map(location => (
                  <tr key={location.id}>
                    <td>{location.busNo}</td>
                    <td>{location.from}: {formatDateTime(location.startTime)}</td>
                    <td>{location.to}: {formatDateTime(location.endTime)}</td>
                    <td>{formatDate(location.bookingDateTime)}</td>
                    <td>{location.totalFare}</td>
                    <td>
                      <button className='button download' onClick={() => downloadTicket(location.id)}>Билетті жүктеу</button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  );
}

export default MyBookings;


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\resetpass\ResetPassword.jsx ====
import  { useState,useEffect } from 'react';
import { useLocation} from 'react-router-dom';
import styles from './styles.module.css'; // Import your CSS file
import { axiosInst } from "../../service/axiosInstance";
import { toast, ToastContainer } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';

// eslint-disable-next-line react/prop-types
const ResetPassword = () => {
  const [token, setToken] = useState('');
  const [newPassword, setNewPassword] = useState('');
  const [confirmNewPassword, setConfirmNewPassword] = useState('');
  const [message, setMessage] = useState('');
  const location = useLocation();
  
  useEffect(() => {
    const searchParams = new URLSearchParams(location.search);
    const token = searchParams.get('token');
    if (token) {
        setToken(token);
    }
    
}, [location]);
  const handleNewPasswordChange = (e) => {
    setNewPassword(e.target.value);
  };

  const handleConfirmNewPasswordChange = (e) => {
    setConfirmNewPassword(e.target.value);
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (newPassword !== confirmNewPassword) {
      toast.warn('Passwords do not match.');
      return;
    }

    try {
      const response = await axiosInst.post('/password-reset/reset', { token, password:confirmNewPassword });
      // Handle successful response
      if (response.status==200) {
          toast.success(response.data,' Login with new password.');
      } else {
          // Show error toast
          toast.error("Something went wrong"+response.data);
      }
  } catch (error) {
      // Show error toast
      toast.error('An error occurred while processing your request.');
  }
  };


  return (
    <div className={styles.change_password_container}>
      <div className={styles.change_password_form_container}>
        <div className={styles.change_password_left}>
          <h1>Welcome Back</h1>
        </div>
        <div className={styles.change_password_right}>
          <form onSubmit={handleSubmit} className={styles.form_container}>
            
            <h1>Set New Password</h1>
            
            <label>New Password:</label>
            <input
              type="password"
              value={newPassword}
              onChange={handleNewPasswordChange}
              required
              className={styles.change_password_input}
            />
            <label>Confirm New Password:</label>
            <input
              type="password"
              value={confirmNewPassword}
              onChange={handleConfirmNewPasswordChange}
              required
              className={styles.change_password_input}
            />
            {message && <div className={styles.change_password_error_msg}>{message}</div>}
            <button type="submit" className={styles.change_password_green_btn}>
              Set Password
            </button>
          </form>
          
        </div>
      </div>
      <ToastContainer/>
    </div>
  );
};

export default ResetPassword;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\resetpass\styles.module.css ====
/* Add these styles for the ChangePassword component */

.change_password_container {
    width: 100%;
    padding: 160px 0;
    min-height: 100vh;
    background-color: #f5f5f5;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .change_password_form_container {
    width: 900px;
    height: 400px; /* Adjust the height based on your design */
    display: flex;
    border-radius: 10px;
    box-shadow: 0px 3px 3px -2px rgb(0 0 0 / 20%),
      0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%);
  }
  
  .change_password_left {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: #3bb19b;
    border-top-left-radius: 10px;
    border-bottom-left-radius: 10px;
  }
  
  .change_password_left h1 {
    margin-top: 0;
    color: white;
    font-size: 35px;
    align-self: center;
  }
  
  .change_password_right {
    flex: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: white;
    border-top-right-radius: 10px;
    border-bottom-right-radius: 10px;
  }
  
  .change_password_form_container form {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  .change_password_form_container form h1 {
    font-size: 40px;
    margin-top: 0;
  }
  
  .change_password_input {
    outline: none;
    border: none;
    width: 370px;
    padding: 15px;
    border-radius: 10px;
    background-color: #edf5f3;
    margin: 5px 0;
    font-size: 14px;
  }
  
  .change_password_error_msg {
    width: 370px;
    padding: 15px;
    margin: 5px 0;
    font-size: 14px;
    background-color: #f34646;
    color: white;
    border-radius: 5px;
    text-align: center;
  }
  
  .change_password_green_btn {
    border: none;
    outline: none;
    padding: 12px 0;
    background-color: #3bb19b;
    border-radius: 20px;
    width: 180px;
    font-weight: bold;
    font-size: 14px;
    cursor: pointer;
    color: white;
    margin: 10px;
  }
  


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\signup\Signup.jsx ====
import { useState } from "react";
// import axios from "axios";
import { Link } from "react-router-dom";
import styles from "./styles.module.css";
import { axiosInst } from "../../service/axiosInstance";
import { toast } from "react-toastify";

const Signup = () => {

	const [data, setData] = useState({
		firstName: "",
		lastName: "",
		gender: "",
		age: "",
		mobilenumber: "",
		email: "",
		password: "",
	});
	// console.log(data,"second");
	// console.log(data,"next")
	const [error, setError] = useState("");
	const [msg, setMsg] = useState("");

  const handleChange = ({ currentTarget: input }) => {
    setData({ ...data, [input.name]: input.value });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    console.log(data);
    try {
      const res = await axiosInst.post('user/signup', data);
      console.log(res.data.message);
      setMsg(res.data.message);
      toast.success("user added successfully.");
      alert("submitted successfully")
    } catch (error) {
      // handle errors 
      if (
        error.response &&
        error.response.status >= 400 &&
        error.response.status <= 500
      ) {
        console.error("Client Error:", error.response.data);
        setError(error.response.data.message);
      } else if (
        error.response &&
        error.response.status >= 500 &&
        error.response.status <= 599
      ) {
        console.error("Server Error:", error.response.data);
        // setError("Internal Server Error. Please try again later.");
        toast.error("Internal Server Error. Please try again later.")
      } else {
        // Handle other types of errors
        console.error("Error:", error.message);
        // setError("An unexpected error occurred. Please try again later.");
        toast.error("Unexpected Error");
      }
    }
  };

  return (
    <>
     
          {/* <ToastContainer /> */}
      <div className={styles.signup_container}>
        <div className={styles.signup_form_container}>
          <div className={styles.left}>
            <h1>Welcome Back</h1>
            <Link to="/login">
              <button type="button" className={styles.white_btn}>
                Sign in
              </button>
            </Link>
          </div>
          <div className={styles.right}>
            <form className={styles.form_container} onSubmit={handleSubmit}>
              <h1>Create Account</h1>
              <input
                type="text"
                placeholder="First Name"
                name="firstName"
                onChange={handleChange}
                value={data.firstName}
                required
                className={styles.input}
              />
              <input
                type="text"
                placeholder="Last Name"
                name="lastName"
                onChange={handleChange}
                value={data.lastName}
                required
                className={styles.input}
              />
              <select
                name="gender"
                onChange={handleChange}
                value={data.gender}
                required
                className={styles.input}
              >
                <option value="">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Others">Others</option>
              </select>
              <input
                type="number"
                placeholder="Age"
                name="age"
                onChange={handleChange}
                value={data.age}
                required
                className={styles.input}
              />
              <input
                type="tel"
                placeholder="Mobile Number"
                name="mobile"
                onChange={handleChange}
                value={data.mobile}
                required
                className={styles.input}
              />
              <input
                type="email"
                placeholder="Email"
                name="email"
                onChange={handleChange}
                value={data.email}
                required
                className={styles.input}
              />
              <input
                type="password"
                placeholder="Password"
                name="password"
                onChange={handleChange}
                value={data.password}
                required
                className={styles.input}
              />
              {error && <div className={styles.error_msg}>{error}</div>}
              {msg && <div className={styles.success_msg}>{msg}</div>}
              <button type="submit" className={styles.green_btn}>
                Sign Up
              </button>
            </form>
          </div>
        </div>
      </div>
      
    </>
  );
};

export default Signup;



==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\pages\signup\styles.module.css ====
.signup_container {
	width: 100%;
	padding: 160px 0;
	min-height: 100vh;
	background-color: #f5f5f5;
	display: flex;
	align-items: center;
	justify-content: center;
}

.signup_form_container {
	width: 900px;
	height: 600px;
	display: flex;
	border-radius: 10px;
	box-shadow: 0px 3px 3px -2px rgb(0 0 0 / 20%),
		0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%);
}

.left {
	flex: 1;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	background-color: #3bb19b;
	border-top-left-radius: 10px;
	border-bottom-left-radius: 10px;
}

.left h1 {
	margin-top: 0;
	color: white;
	font-size: 35px;
	align-self: center;
}

.right {
	flex: 2;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	background-color: white;
	border-top-right-radius: 10px;
	border-bottom-right-radius: 10px;
}

.form_container {
	display: flex;
	flex-direction: column;
	align-items: center;
}

.form_container h1 {
	font-size: 40px;
	margin-top: 0;
}

.input {
	outline: none;
	border: none;
	width: 370px;
	padding: 15px;
	border-radius: 10px;
	background-color: #edf5f3;
	margin: 5px 0;
	font-size: 14px;
}

.error_msg {
	width: 370px;
	padding: 15px;
	margin: 5px 0;
	font-size: 14px;
	background-color: #f34646;
	color: white;
	border-radius: 5px;
	text-align: center;
}

.white_btn,
.green_btn {
	border: none;
	outline: none;
	padding: 12px 0;
	background-color: white;
	border-radius: 20px;
	width: 180px;
	font-weight: bold;
	font-size: 14px;
	cursor: pointer;
}

.green_btn {
	background-color: #3bb19b;
	color: white;
	margin: 10px;
}


==== C:\Users\Admin\Desktop\BookingBus\Bus-Booking-System\bus-booking-frontend\src\service\axiosInstance.js ====
// Removed unused import statement

import axios from 'axios';

// Create an Axios instance with the specified baseURL
const axiosInst = axios.create({
  baseURL: 'http://localhost:9090/', // Set your base URL here
});

export { axiosInst }; // Export the axiosInstance for use in other files



